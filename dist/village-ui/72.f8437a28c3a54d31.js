"use strict";(self.webpackChunkvillage_ui=self.webpackChunkvillage_ui||[]).push([[72],{72:(ot,_,l)=>{l.r(_),l.d(_,{EntitiesModule:()=>nt});var g=l(177),s=l(4341),u=l(2559),b=function(i){return i.OPEN="OPEN",i.CLOSED="CLOSED",i.UNDER_MAINTENANCE="UNDER_MAINTENANCE",i.TEMPORARILY_CLOSED="TEMPORARILY_CLOSED",i.PERMANENTLY_CLOSED="PERMANENTLY_CLOSED",i}(b||{}),f=function(i){return i.GOVT_HOSPITAL="GOVT_HOSPITAL",i.SHOP="SHOP",i.MRO_OFFICE="MRO_OFFICE",i.POLICE_STATION="POLICE_STATION",i.POST_OFFICE="POST_OFFICE",i.SCHOOL="SCHOOL",i.BANK="BANK",i.PHARMACY="PHARMACY",i.COMMUNITY_CENTER="COMMUNITY_CENTER",i}(f||{}),P=l(5312),t=l(2598),y=l(1626),c=l(7967),h=l(629),C=l(9700),M=l(5889);function v(i,a){1&i&&(t.j41(0,"div",11),t.nrm(1,"div",12),t.j41(2,"p"),t.EFF(3,"Loading entity data..."),t.k0s()())}function E(i,a){1&i&&(t.j41(0,"span"),t.EFF(1,"Entity name is required"),t.k0s())}function k(i,a){1&i&&(t.j41(0,"span"),t.EFF(1,"Name must be at least 3 characters"),t.k0s())}function w(i,a){if(1&i&&(t.j41(0,"div",51),t.DNE(1,E,2,0,"span",50),t.DNE(2,k,2,0,"span",50),t.k0s()),2&i){const n=t.XpG(2);let e,o;t.R7$(1),t.Y8G("ngIf",null==(e=n.entityForm.get("name"))||null==e.errors?null:e.errors.required),t.R7$(1),t.Y8G("ngIf",null==(o=n.entityForm.get("name"))||null==o.errors?null:o.errors.minlength)}}function F(i,a){if(1&i&&(t.j41(0,"option",52),t.EFF(1),t.k0s()),2&i){const n=a.$implicit;t.Y8G("value",n),t.R7$(1),t.JRh(n)}}function j(i,a){1&i&&(t.j41(0,"div",51),t.EFF(1," Entity type is required "),t.k0s())}function T(i,a){1&i&&(t.j41(0,"div",51),t.EFF(1," Please enter a valid email address "),t.k0s())}function I(i,a){if(1&i&&(t.j41(0,"option",52),t.EFF(1),t.k0s()),2&i){const n=a.$implicit;t.Y8G("value",n),t.R7$(1),t.JRh(n)}}function S(i,a){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2);t.R7$(1),t.JRh(n.isEditMode?"Update Entity":"Create Entity")}}function N(i,a){1&i&&(t.j41(0,"span"),t.EFF(1,"Processing..."),t.k0s())}function R(i,a){if(1&i){const n=t.RV6();t.j41(0,"div",13)(1,"form",14),t.bIt("ngSubmit",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.onSubmit())}),t.j41(2,"div",15)(3,"h3",16),t.EFF(4,"Basic Information"),t.k0s(),t.j41(5,"div",17)(6,"div",18)(7,"label",19),t.EFF(8,"Entity Name *"),t.k0s(),t.nrm(9,"input",20),t.DNE(10,w,3,2,"div",21),t.k0s(),t.j41(11,"div",18)(12,"label",22),t.EFF(13,"Entity Type *"),t.k0s(),t.j41(14,"select",23)(15,"option",24),t.EFF(16,"Select entity type"),t.k0s(),t.DNE(17,F,2,2,"option",25),t.k0s(),t.DNE(18,j,2,0,"div",21),t.k0s()(),t.j41(19,"div",18)(20,"label",26),t.EFF(21,"Description"),t.k0s(),t.nrm(22,"textarea",27),t.k0s()(),t.j41(23,"div",18)(24,"label",28),t.EFF(25,"Village"),t.k0s(),t.nrm(26,"input",29),t.k0s(),t.j41(27,"div",15)(28,"h3",16),t.EFF(29,"Contact Information"),t.k0s(),t.j41(30,"div",17)(31,"div",18)(32,"label",30),t.EFF(33,"Contact Number"),t.k0s(),t.nrm(34,"input",31),t.k0s(),t.j41(35,"div",18)(36,"label",32),t.EFF(37,"Email"),t.k0s(),t.nrm(38,"input",33),t.DNE(39,T,2,0,"div",21),t.k0s()(),t.j41(40,"div",18)(41,"label",34),t.EFF(42,"Address"),t.k0s(),t.nrm(43,"textarea",35),t.k0s()(),t.j41(44,"div",15)(45,"h3",16),t.EFF(46,"Operating Details"),t.k0s(),t.j41(47,"div",17)(48,"div",18)(49,"label",36),t.EFF(50,"Status *"),t.k0s(),t.j41(51,"select",37),t.DNE(52,I,2,2,"option",25),t.k0s()(),t.j41(53,"div",18)(54,"label",38),t.EFF(55,"Capacity"),t.k0s(),t.nrm(56,"input",39),t.k0s()(),t.j41(57,"div",17)(58,"div",18)(59,"label",40),t.EFF(60,"Opening Time"),t.k0s(),t.nrm(61,"input",41),t.k0s(),t.j41(62,"div",18)(63,"label",42),t.EFF(64,"Closing Time"),t.k0s(),t.nrm(65,"input",43),t.k0s()(),t.j41(66,"div",18)(67,"label",44),t.nrm(68,"input",45)(69,"span",46),t.EFF(70," Entity is active "),t.k0s()()(),t.j41(71,"div",47)(72,"button",48),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.onCancel())}),t.EFF(73," Cancel "),t.k0s(),t.j41(74,"button",49),t.DNE(75,S,2,1,"span",50),t.DNE(76,N,2,0,"span",50),t.k0s()()()()}if(2&i){const n=t.XpG();let e,o,r,d,p,m;t.R7$(1),t.Y8G("formGroup",n.entityForm),t.R7$(8),t.AVh("error",(null==(e=n.entityForm.get("name"))?null:e.invalid)&&(null==(e=n.entityForm.get("name"))?null:e.touched)),t.R7$(1),t.Y8G("ngIf",(null==(o=n.entityForm.get("name"))?null:o.invalid)&&(null==(o=n.entityForm.get("name"))?null:o.touched)),t.R7$(4),t.AVh("error",(null==(r=n.entityForm.get("type"))?null:r.invalid)&&(null==(r=n.entityForm.get("type"))?null:r.touched)),t.R7$(3),t.Y8G("ngForOf",n.entityTypes),t.R7$(1),t.Y8G("ngIf",(null==(d=n.entityForm.get("type"))?null:d.invalid)&&(null==(d=n.entityForm.get("type"))?null:d.touched)),t.R7$(8),t.Y8G("value",(null==n.currentUser||null==n.currentUser.village?null:n.currentUser.village.name)||""),t.R7$(12),t.AVh("error",(null==(p=n.entityForm.get("email"))?null:p.invalid)&&(null==(p=n.entityForm.get("email"))?null:p.touched)),t.R7$(1),t.Y8G("ngIf",(null==(m=n.entityForm.get("email"))?null:m.invalid)&&(null==(m=n.entityForm.get("email"))?null:m.touched)),t.R7$(13),t.Y8G("ngForOf",n.entityStatuses),t.R7$(20),t.Y8G("disabled",n.submitting),t.R7$(2),t.Y8G("disabled",n.entityForm.invalid||n.submitting),t.R7$(1),t.Y8G("ngIf",!n.submitting),t.R7$(1),t.Y8G("ngIf",n.submitting)}}let O=(()=>{class i{constructor(n,e,o,r,d,p,m,et){this.route=n,this.router=e,this.fb=o,this.http=r,this.entityService=d,this.tokenService=p,this.usersService=m,this.toast=et,this.isEditMode=!1,this.entityId=null,this.loading=!1,this.submitting=!1,this.entityTypes=Object.values(f),this.entityStatuses=Object.values(b),this.apiUrl=P.c.apiUrl,this.entityForm=this.fb.group({name:["",[s.k0.required,s.k0.minLength(3)]],description:[""],type:["",s.k0.required],status:[b.OPEN,s.k0.required],address:[""],contactNumber:[""],email:["",[s.k0.email]],openingTime:[""],closingTime:[""],capacity:[0],isActive:[!0]})}ngOnInit(){const n=this.tokenService.getCurrentUser();this.usersService.getUserById(n.userId).subscribe({next:e=>{this.currentUser=e},error:e=>{console.error("Error loading user:",e),this.toast.error("Failed to load user data"),this.loading=!1,this.router.navigate(["/entities"])}}),this.route.params.subscribe(e=>{e.id&&(this.isEditMode=!0,this.entityId=e.id,this.loadEntity(e.id))})}loadEntity(n){this.loading=!0,this.entityService.getEntityById(n).subscribe({next:e=>{this.entityForm.patchValue({name:e.name,description:e.description,type:e.type,status:e.status,address:e.address,contactNumber:e.contactNumber,email:e.email,openingTime:e.openingTime,closingTime:e.closingTime,capacity:e.capacity,active:e.active}),this.loading=!1},error:e=>{console.error("Error loading entity:",e),this.toast.error("Failed to load entity data"),this.loading=!1,this.router.navigate(["/entities"])}})}onSubmit(){if(this.entityForm.invalid||this.submitting)return;this.submitting=!0;const n={...this.entityForm.value};this.currentUser?.village?.id&&(n.villageId=this.currentUser.village.id,n.villageName=this.currentUser.village.name,n.village=this.currentUser.village),this.isEditMode&&this.entityId?"SUPER_ADMIN"!==this.currentUser?.role&&"VILLAGE_ADMIN"!==this.currentUser?.role?this.entityService.updateEntityByOwner(this.entityId,this.currentUser.id,n).subscribe({next:e=>{alert("Entity updated successfully!"),this.router.navigate(["/entities"]),this.submitting=!1},error:e=>{console.error("Error updating entity:",e),this.toast.error("Failed to update entity"),this.submitting=!1}}):this.entityService.updateEntity(this.entityId,n).subscribe({next:e=>{alert("Entity updated successfully!"),this.router.navigate(["/entities"]),this.submitting=!1},error:e=>{console.error("Error updating entity:",e),this.toast.error("Failed to update entity"),this.submitting=!1}}):this.entityService.createEntity(n).subscribe({next:e=>{alert("Entity created successfully!"),this.router.navigate(["/entities"]),this.submitting=!1},error:e=>{console.error("Error creating entity:",e),this.toast.error("Failed to create entity"),this.submitting=!1}})}onCancel(){this.router.navigate(["/dashboard/villager/entities"])}static{this.\u0275fac=function(e){return new(e||i)(t.rXU(u.nX),t.rXU(u.Ix),t.rXU(s.ok),t.rXU(y.Qq),t.rXU(c.Tr),t.rXU(h.B),t.rXU(C.g),t.rXU(M.f))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-entity-create"]],decls:14,vars:4,consts:[[1,"entity-create-container"],[1,"create-header"],[1,"header-left"],[1,"back-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"header-info"],[1,"page-title"],[1,"page-subtitle"],["class","loading-state",4,"ngIf"],["class","form-container",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"form-container"],[1,"entity-form",3,"formGroup","ngSubmit"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group"],["for","name",1,"form-label"],["id","name","type","text","formControlName","name","placeholder","Enter entity name",1,"form-input"],["class","error-message",4,"ngIf"],["for","type",1,"form-label"],["id","type","formControlName","type",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Enter entity description","rows","3",1,"form-textarea"],[1,"form-label"],["type","text","placeholder","Village","readonly","",1,"form-input",3,"value"],["for","contactNumber",1,"form-label"],["id","contactNumber","type","tel","formControlName","contactNumber","placeholder","Enter contact number",1,"form-input"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","placeholder","Enter email address",1,"form-input"],["for","address",1,"form-label"],["id","address","formControlName","address","placeholder","Enter full address","rows","2",1,"form-textarea"],["for","status",1,"form-label"],["id","status","formControlName","status",1,"form-select"],["for","capacity",1,"form-label"],["id","capacity","type","number","formControlName","capacity","placeholder","Enter capacity","min","0",1,"form-input"],["for","openingTime",1,"form-label"],["id","openingTime","type","time","formControlName","openingTime",1,"form-input"],["for","closingTime",1,"form-label"],["id","closingTime","type","time","formControlName","closingTime",1,"form-input"],[1,"checkbox-label"],["type","checkbox","formControlName","isActive"],[1,"checkmark"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[1,"error-message"],[3,"value"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.bIt("click",function(){return o.onCancel()}),t.qSk(),t.j41(4,"svg",4),t.nrm(5,"path",5),t.k0s(),t.EFF(6," Back to Entities "),t.k0s(),t.joV(),t.j41(7,"div",6)(8,"h1",7),t.EFF(9),t.k0s(),t.j41(10,"p",8),t.EFF(11),t.k0s()()()(),t.DNE(12,v,4,0,"div",9),t.DNE(13,R,77,17,"div",10),t.k0s()),2&e&&(t.R7$(9),t.JRh(o.isEditMode?"Edit Entity":"Create New Entity"),t.R7$(2),t.JRh(o.isEditMode?"Update entity information":"Add a new entity to the system"),t.R7$(1),t.Y8G("ngIf",o.loading),t.R7$(1),t.Y8G("ngIf",!o.loading))},dependencies:[g.Sq,g.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.VZ,s.j4,s.JD],styles:[".entity-create-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:800px;margin:0 auto;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif}.create-header[_ngcontent-%COMP%]{margin-bottom:2rem}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:#f3f4f6;color:#4b5563;border:1px solid #d1d5db;border-radius:8px;font-size:.875rem;cursor:pointer;transition:all .2s;text-decoration:none}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#111827;margin:0 0 .25rem}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;background:white;border-radius:12px;box-shadow:0 1px 3px #0000001a}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e5e7eb;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.form-container[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:2rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.entity-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.entity-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.entity-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin:0 0 1rem;padding-bottom:.5rem;border-bottom:1px solid #e5e7eb}.entity-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}@media (max-width: 768px){.entity-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1;margin-bottom:1rem}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:.875rem;background:white;transition:all .2s}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%], .entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%], .entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea.error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.75rem;color:#ef4444;margin-top:.25rem}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-size:.875rem;color:#374151}.entity-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#3b82f6}.entity-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e5e7eb}.entity-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.entity-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#4b5563;border:1px solid #d1d5db}.entity-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e5e7eb;color:#374151}.entity-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.entity-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.entity-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.entity-create-container[_ngcontent-%COMP%]{padding:1rem}.create-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;gap:1rem}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.create-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.form-container[_ngcontent-%COMP%]{padding:1.5rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}"]})}}return i})();var x=l(5627);function G(i,a){if(1&i){const n=t.RV6();t.j41(0,"button",39),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.openCreateModal())}),t.qSk(),t.j41(1,"svg",40),t.nrm(2,"path",41),t.k0s(),t.EFF(3," Create Entity "),t.k0s()}}function D(i,a){if(1&i){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.clearSearch())}),t.qSk(),t.j41(1,"svg",43),t.nrm(2,"path",44),t.k0s()()}}function L(i,a){if(1&i&&(t.j41(0,"option",45),t.EFF(1),t.k0s()),2&i){const n=a.$implicit,e=t.XpG();t.Y8G("value",n),t.R7$(1),t.JRh(e.formatEntityType(n))}}function $(i,a){if(1&i&&(t.j41(0,"option",45),t.EFF(1),t.k0s()),2&i){const n=a.$implicit,e=t.XpG();t.Y8G("value",n),t.R7$(1),t.JRh(e.getStatusText(n))}}function U(i,a){if(1&i&&(t.j41(0,"span",58),t.EFF(1),t.nI1(2,"slice"),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.SpI("",t.brH(2,1,n.description,0,50),"...")}}function Y(i,a){if(1&i){const n=t.RV6();t.j41(0,"button",59),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.openEditModal(o))}),t.qSk(),t.j41(1,"svg",43),t.nrm(2,"path",60),t.k0s()()}}function V(i,a){if(1&i){const n=t.RV6();t.j41(0,"button",61),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.deleteEntity(o.id))}),t.qSk(),t.j41(1,"svg",43),t.nrm(2,"path",62),t.k0s()()}}function A(i,a){if(1&i){const n=t.RV6();t.j41(0,"button",63),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.subscribe(o))}),t.qSk(),t.j41(1,"svg",43),t.nrm(2,"path",41),t.k0s(),t.EFF(3," Subscribe "),t.k0s()}}function B(i,a){if(1&i){const n=t.RV6();t.j41(0,"button",64),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.unsubscribe(o))}),t.qSk(),t.j41(1,"svg",43),t.nrm(2,"path",65),t.k0s(),t.EFF(3," Unsubscribe "),t.k0s()}}function X(i,a){if(1&i&&(t.qex(0),t.j41(1,"tr",46)(2,"td")(3,"span",47),t.EFF(4),t.k0s()(),t.j41(5,"td"),t.DNE(6,U,3,5,"span",48),t.k0s(),t.j41(7,"td")(8,"span",49),t.EFF(9),t.k0s()(),t.j41(10,"td")(11,"span",50),t.nrm(12,"span",51),t.EFF(13),t.k0s()(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td")(17,"span",52),t.EFF(18),t.k0s()(),t.j41(19,"td")(20,"div",53),t.DNE(21,Y,3,0,"button",54),t.DNE(22,V,3,0,"button",55),t.DNE(23,A,4,0,"button",56),t.DNE(24,B,4,0,"button",57),t.k0s()()(),t.bVm()),2&i){const n=a.$implicit,e=t.XpG();t.R7$(4),t.JRh(n.name),t.R7$(2),t.Y8G("ngIf",n.description),t.R7$(3),t.JRh(e.formatEntityType(n.type)),t.R7$(2),t.Y8G("ngClass",e.getStatusBadgeClass(n.status)),t.R7$(2),t.SpI(" ",e.getStatusText(n.status)," "),t.R7$(2),t.JRh(n.villageName||"N/A"),t.R7$(3),t.JRh(e.getSubscriptionCount(n)),t.R7$(3),t.Y8G("ngIf",e.canEditDelete(n)),t.R7$(1),t.Y8G("ngIf",e.canEditDelete(n)),t.R7$(1),t.Y8G("ngIf",!e.canEditDelete(n)&&!e.isSubscribed(n.id)),t.R7$(1),t.Y8G("ngIf",!e.canEditDelete(n)&&e.isSubscribed(n.id))}}function z(i,a){1&i&&(t.j41(0,"tr",66)(1,"td",67)(2,"div",68),t.qSk(),t.j41(3,"svg",69),t.nrm(4,"path",10),t.k0s(),t.joV(),t.j41(5,"p",70),t.EFF(6,"No entities found"),t.k0s(),t.j41(7,"p",71),t.EFF(8,"Try adjusting your search or filters"),t.k0s()()()())}function H(i,a){if(1&i&&(t.j41(0,"option",45),t.EFF(1),t.k0s()),2&i){const n=a.$implicit,e=t.XpG(2);t.Y8G("value",n),t.R7$(1),t.JRh(e.formatEntityType(n))}}function J(i,a){if(1&i&&(t.j41(0,"option",45),t.EFF(1),t.k0s()),2&i){const n=a.$implicit,e=t.XpG(2);t.Y8G("value",n),t.R7$(1),t.JRh(e.getStatusText(n))}}function q(i,a){if(1&i&&(t.j41(0,"option",45),t.EFF(1),t.k0s()),2&i){const n=a.$implicit;t.Y8G("value",n.id),t.R7$(1),t.JRh(n.name)}}function K(i,a){if(1&i){const n=t.RV6();t.j41(0,"div",72),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.closeModal())}),t.j41(1,"div",73),t.bIt("click",function(o){return o.stopPropagation()}),t.j41(2,"div",74)(3,"h2",75),t.EFF(4),t.k0s(),t.j41(5,"button",76),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.closeModal())}),t.qSk(),t.j41(6,"svg",43),t.nrm(7,"path",44),t.k0s()()(),t.joV(),t.j41(8,"form",77),t.bIt("ngSubmit",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.saveEntity())}),t.j41(9,"div",78)(10,"div",79)(11,"label",80),t.EFF(12,"Entity Name *"),t.k0s(),t.j41(13,"input",81),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.name=o)}),t.k0s()(),t.j41(14,"div",79)(15,"label",80),t.EFF(16,"Entity Type *"),t.k0s(),t.j41(17,"select",82),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.type=o)}),t.j41(18,"option",83),t.EFF(19,"Select Type"),t.k0s(),t.DNE(20,H,2,2,"option",33),t.k0s()()(),t.j41(21,"div",79)(22,"label",80),t.EFF(23,"Description"),t.k0s(),t.j41(24,"textarea",84),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.description=o)}),t.k0s()(),t.j41(25,"div",78)(26,"div",79)(27,"label",80),t.EFF(28,"Opening Time"),t.k0s(),t.j41(29,"input",85),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.openingTime=o)}),t.k0s()(),t.j41(30,"div",79)(31,"label",80),t.EFF(32,"Closing Time"),t.k0s(),t.j41(33,"input",86),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.closingTime=o)}),t.k0s()()(),t.j41(34,"div",78)(35,"div",79)(36,"label",80),t.EFF(37,"Contact Number"),t.k0s(),t.j41(38,"input",87),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.contactNumber=o)}),t.k0s()(),t.j41(39,"div",79)(40,"label",80),t.EFF(41,"Email"),t.k0s(),t.j41(42,"input",88),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.email=o)}),t.k0s()()(),t.j41(43,"div",79)(44,"label",80),t.EFF(45,"Address"),t.k0s(),t.j41(46,"textarea",89),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.address=o)}),t.k0s()(),t.j41(47,"div",78)(48,"div",79)(49,"label",80),t.EFF(50,"Capacity"),t.k0s(),t.j41(51,"input",90),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.capacity=o)}),t.k0s()(),t.j41(52,"div",79)(53,"label",80),t.EFF(54,"Status"),t.k0s(),t.j41(55,"select",91),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.status=o)}),t.DNE(56,J,2,2,"option",33),t.k0s()()(),t.j41(57,"div",79)(58,"label",80),t.EFF(59,"Owner *"),t.k0s(),t.j41(60,"select",92),t.bIt("ngModelChange",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.formData.owner=o)}),t.j41(61,"option",83),t.EFF(62,"Select Owner"),t.k0s(),t.DNE(63,q,2,2,"option",33),t.k0s()(),t.j41(64,"div",93)(65,"button",94),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.closeModal())}),t.EFF(66,"Cancel"),t.k0s(),t.j41(67,"button",95),t.EFF(68),t.k0s()()()()()}if(2&i){const n=t.XpG();t.R7$(4),t.JRh(n.isEditMode?"Edit Entity":"Create New Entity"),t.R7$(9),t.Y8G("ngModel",n.formData.name),t.R7$(4),t.Y8G("ngModel",n.formData.type),t.R7$(3),t.Y8G("ngForOf",n.entityTypes),t.R7$(4),t.Y8G("ngModel",n.formData.description),t.R7$(5),t.Y8G("ngModel",n.formData.openingTime),t.R7$(4),t.Y8G("ngModel",n.formData.closingTime),t.R7$(5),t.Y8G("ngModel",n.formData.contactNumber),t.R7$(4),t.Y8G("ngModel",n.formData.email),t.R7$(4),t.Y8G("ngModel",n.formData.address),t.R7$(5),t.Y8G("ngModel",n.formData.capacity),t.R7$(4),t.Y8G("ngModel",n.formData.status),t.R7$(1),t.Y8G("ngForOf",n.entityStatuses),t.R7$(4),t.Y8G("ngModel",n.formData.owner),t.R7$(3),t.Y8G("ngForOf",n.users),t.R7$(5),t.JRh(n.isEditMode?"Update":"Create")}}const Q=[{path:"",component:(()=>{class i{constructor(n,e,o,r,d){this.entityService=n,this.subscriptionService=e,this.usersService=o,this.tokenService=r,this.toast=d,this.totalEntities=0,this.activeEntities=0,this.inactiveEntities=0,this.entitiesByStatus={},this.searchTerm="",this.typeFilter="all",this.statusFilter="all",this.entities=[],this.filteredEntities=[],this.entityTypes=Object.values(c.ck),this.entityStatuses=Object.values(c.cx),this.users=[],this.showModal=!1,this.isEditMode=!1,this.formData={name:"",description:"",type:"",openingTime:"",closingTime:"",status:c.cx.OPEN,address:"",contactNumber:"",email:"",capacity:null,owner:null},this.currentUser=null,this.currentUserId=null,this.subscribedEntityIds=new Set}ngOnInit(){this.loadCurrentUser(),this.loadUsers(),this.loadEntities()}loadUsers(){const n=this.tokenService.getCurrentUser();console.log(JSON.stringify(n)),n&&n.userId&&this.usersService.getUserById(n.userId).subscribe({next:e=>{console.log("User details:",e),e.village?.id?this.usersService.getUsersByVillage(e.village.id,"VILLAGER").subscribe({next:o=>{this.users=o,console.log("Loaded users:",o.length)},error:o=>{console.error("Error loading users by village:",o),this.users=[]}}):(console.warn("User has no village information"),this.users=[])},error:e=>{console.error("Error loading user details:",e),this.users=[]}})}loadCurrentUser(){const n=this.tokenService.getCurrentUser();n&&n.userId&&this.usersService.getUserById(n.userId).subscribe({next:e=>{this.currentUser=e,this.currentUserId=e.id??n.userId??null,this.loadSubscriptions()},error:e=>{console.error("Error loading current user:",e)}})}loadSubscriptions(){this.currentUserId&&this.subscriptionService.getUserSubscriptions(this.currentUserId).subscribe({next:n=>{this.subscribedEntityIds=new Set(n.map(e=>e.entity?.id||e.entityId))},error:n=>{console.error("Error loading subscriptions:",n),this.subscribedEntityIds=new Set}})}unsubscribe(n){!this.currentUserId||!n.id||this.subscriptionService.unsubscribeFromEntity(n.id,this.currentUserId).subscribe({next:()=>{this.toast.success("Unsubscribed successfully"),this.subscribedEntityIds.delete(n.id)},error:e=>{console.error("Unsubscribe failed",e),this.toast.error("Failed to unsubscribe")}})}entityVillageId(n){return n?.village?.id||n?.villageId||null}isVillageAdmin(){return"VILLAGE_ADMIN"===this.currentUser?.role}isSuperAdmin(){return"SUPER_ADMIN"===this.currentUser?.role}canEditDelete(n){return!!this.isSuperAdmin()||this.isVillageAdmin()&&!!this.currentUser?.village?.id&&this.entityVillageId(n)===this.currentUser.village.id}isSubscribed(n){return!!n&&this.subscribedEntityIds.has(n)}subscribe(n){!this.currentUserId||!n.id||this.subscriptionService.subscribeToEntity(n.id,this.currentUserId,"GENERAL").subscribe({next:()=>{this.toast.success("Subscribed successfully"),this.subscribedEntityIds.add(n.id)},error:e=>{console.error("Subscribe failed",e),this.toast.error("Failed to subscribe")}})}loadEntities(){this.entityService.getAllEntities().subscribe({next:n=>{this.entities=n,this.updateStats(),this.applyFilters()},error:n=>{console.error("Error loading entities:",n),this.entities=[],this.updateStats(),this.applyFilters()}})}updateStats(){this.totalEntities=this.entities.length,this.activeEntities=this.entities.filter(n=>n.active).length,this.inactiveEntities=this.entities.filter(n=>!n.active).length,this.entitiesByStatus={},this.entityStatuses.forEach(n=>{this.entitiesByStatus[n]=this.entities.filter(e=>e.status===n).length})}onSearch(){this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}onFilterChange(){this.applyFilters()}applyFilters(){let n=[...this.entities];if(this.searchTerm){const e=this.searchTerm.toLowerCase();n=n.filter(o=>o.name.toLowerCase().includes(e)||o.description&&o.description.toLowerCase().includes(e)||o.type.toLowerCase().includes(e)||o.owner?.name&&o.owner.name.toLowerCase().includes(e)||o.villageName&&o.villageName.toLowerCase().includes(e))}"all"!==this.typeFilter&&(n=n.filter(e=>e.type===this.typeFilter)),"all"!==this.statusFilter&&(n=n.filter(e=>e.status===this.statusFilter)),this.filteredEntities=n}openCreateModal(){this.isEditMode=!1,this.formData={name:"",description:"",type:"",openingTime:"",closingTime:"",status:c.cx.OPEN,address:"",contactNumber:"",email:"",capacity:null,active:!0,owner:null},this.showModal=!0}openEditModal(n){this.isEditMode=!0,this.formData={...n,openingTime:n.openingTime?new Date(`1970-01-01T${n.openingTime}`).toTimeString().slice(0,5):"",closingTime:n.closingTime?new Date(`1970-01-01T${n.closingTime}`).toTimeString().slice(0,5):"",owner:n.owner?.id||n.owner||null},console.log("Edit modal opened with form data:",this.formData),this.showModal=!0}closeModal(){this.showModal=!1}saveEntity(){if(console.log("Form data before submission:",this.formData),console.log("Owner value:",this.formData.owner),console.log("Owner type:",typeof this.formData.owner),console.log("Users array length:",this.users.length),!this.formData.owner||""===this.formData.owner)return this.toast.warning("Please select an owner for the entity"),void console.log("Owner validation failed - no owner selected");const n={...this.formData,owner:{id:this.formData.owner},village:this.currentUser?.village};this.tryCreateEntity(n)}tryCreateEntity(n){this.isEditMode&&this.formData.id?this.entityService.updateEntity(this.formData.id,n).subscribe({next:()=>{this.loadEntities(),this.closeModal(),this.toast.success("Entity updated successfully")},error:e=>{console.error("Error with current format, trying alternative format:",e),e.error?.message?.includes("owner")?this.tryAlternativeFormat(n):this.toast.error("Failed to update entity")}}):this.entityService.createEntity(n).subscribe({next:()=>{this.loadEntities(),this.closeModal(),this.toast.success("Entity created successfully")},error:e=>{console.error("Error with current format, trying alternative format:",e),e.error?.message?.includes("owner")?this.tryAlternativeFormat(n):this.toast.error("Failed to create entity")}})}tryAlternativeFormat(n){const e={...n,owner:n.owner.id||n.owner};console.log("Trying alternative format:",JSON.stringify(e,null,2)),this.isEditMode&&this.formData.id?this.entityService.updateEntity(this.formData.id,e).subscribe({next:()=>{this.loadEntities(),this.closeModal(),this.toast.success("Entity updated successfully")},error:o=>{console.error("Alternative format also failed:",o),this.toast.error("Failed to save entity")}}):this.entityService.createEntity(e).subscribe({next:()=>{this.loadEntities(),this.closeModal(),this.toast.success("Entity created successfully")},error:o=>{console.error("Alternative format also failed:",o),this.toast.error("Failed to save entity")}})}deleteEntity(n){confirm("Are you sure you want to delete this entity?")&&this.entityService.deleteEntity(n).subscribe({next:()=>{this.toast.success("Entity deleted successfully"),this.loadEntities()},error:e=>{console.error("Error deleting entity:",e),this.toast.error("Failed to delete entity")}})}getStatusBadgeClass(n){switch(n){case c.cx.OPEN:return"status-badge active";case c.cx.CLOSED:return"status-badge inactive";case c.cx.UNDER_MAINTENANCE:case c.cx.TEMPORARILY_CLOSED:return"status-badge warning";case c.cx.PERMANENTLY_CLOSED:return"status-badge danger";default:return"status-badge"}}getStatusText(n){return n.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())}getTypeIcon(n){switch(n){case c.ck.GOVT_HOSPITAL:return"\u{1f3e5}";case c.ck.SHOP:return"\u{1f3ea}";case c.ck.MRO_OFFICE:return"\u{1f3db}\ufe0f";case c.ck.POLICE_STATION:return"\u{1f693}";case c.ck.POST_OFFICE:return"\u{1f4ee}";case c.ck.SCHOOL:return"\u{1f3eb}";case c.ck.BANK:return"\u{1f3e6}";case c.ck.PHARMACY:return"\u{1f48a}";case c.ck.COMMUNITY_CENTER:return"\u{1f3d8}\ufe0f";default:return"\u{1f3e2}"}}getSubscriptionCount(n){return n.subscriptionCount||0}formatEntityType(n){return n.replace(/_/g," ")}canCreateEntity(){return"SUPER_ADMIN"===this.currentUser?.role||"VILLAGE_ADMIN"===this.currentUser?.role}static{this.\u0275fac=function(e){return new(e||i)(t.rXU(c.Tr),t.rXU(x.y),t.rXU(C.g),t.rXU(h.B),t.rXU(M.f))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-entity-list"]],decls:82,vars:14,consts:[[1,"list-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"title-icon"],[1,"page-subtitle"],[1,"stats-grid"],[1,"stat-card","total-card"],[1,"stat-icon-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"stat-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","active-card"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card","inactive-card"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"table-section"],[1,"table-header"],[1,"table-title-section"],[1,"table-title"],[1,"table-count"],["class","create-btn",3,"click",4,"ngIf"],[1,"table-controls"],[1,"search-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search by entity name, type, or description...",1,"search-input",3,"ngModel","ngModelChange","input"],["class","clear-search",3,"click",4,"ngIf"],[1,"filter-wrapper"],[1,"filter-select",3,"ngModel","ngModelChange","change"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"table-wrapper"],[1,"data-table"],[4,"ngFor","ngForOf"],["class","empty-row",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"create-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"btn-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"clear-search",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"value"],[1,"data-row"],[1,"item-name"],["class","item-subtitle",4,"ngIf"],[1,"type-badge"],[1,"status-badge",3,"ngClass"],[1,"status-dot"],[1,"subscription-count"],[1,"action-buttons"],["class","action-btn edit-btn","title","Edit",3,"click",4,"ngIf"],["class","action-btn delete-btn","title","Delete",3,"click",4,"ngIf"],["class","action-btn subscribe-btn","title","Subscribe",3,"click",4,"ngIf"],["class","action-btn unsubscribe-btn","title","Unsubscribe",3,"click",4,"ngIf"],[1,"item-subtitle"],["title","Edit",1,"action-btn","edit-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Delete",1,"action-btn","delete-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["title","Subscribe",1,"action-btn","subscribe-btn",3,"click"],["title","Unsubscribe",1,"action-btn","unsubscribe-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 12H4"],[1,"empty-row"],["colspan","6"],[1,"empty-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"empty-icon"],[1,"empty-text"],[1,"empty-subtext"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"modal-close",3,"click"],[1,"modal-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],[1,"form-label"],["type","text","name","name","placeholder","Enter entity name","required","",1,"form-input",3,"ngModel","ngModelChange"],["name","type","required","",1,"form-input",3,"ngModel","ngModelChange"],["value",""],["name","description","placeholder","Enter entity description","rows","3",1,"form-input","form-textarea",3,"ngModel","ngModelChange"],["type","time","name","openingTime",1,"form-input",3,"ngModel","ngModelChange"],["type","time","name","closingTime",1,"form-input",3,"ngModel","ngModelChange"],["type","tel","name","contactNumber","placeholder","Enter contact number",1,"form-input",3,"ngModel","ngModelChange"],["type","email","name","email","placeholder","Enter email address",1,"form-input",3,"ngModel","ngModelChange"],["name","address","placeholder","Enter full address","rows","2",1,"form-input","form-textarea",3,"ngModel","ngModelChange"],["type","number","name","capacity","placeholder","Enter capacity","min","0",1,"form-input",3,"ngModel","ngModelChange"],["name","status",1,"form-input",3,"ngModel","ngModelChange"],["name","owner","required","",1,"form-input",3,"ngModel","ngModelChange"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(e,o){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"span",4),t.EFF(5,"\u{1f3e2}"),t.k0s(),t.EFF(6," Entity Management "),t.k0s(),t.j41(7,"p",5),t.EFF(8,"Manage and monitor all entities in the system"),t.k0s()()(),t.j41(9,"div",6)(10,"div",7)(11,"div",8),t.qSk(),t.j41(12,"svg",9),t.nrm(13,"path",10),t.k0s()(),t.joV(),t.j41(14,"div",11)(15,"h3",12),t.EFF(16),t.k0s(),t.j41(17,"p",13),t.EFF(18,"Total Entities"),t.k0s()()(),t.j41(19,"div",14)(20,"div",8),t.qSk(),t.j41(21,"svg",9),t.nrm(22,"path",15),t.k0s()(),t.joV(),t.j41(23,"div",11)(24,"h3",12),t.EFF(25),t.k0s(),t.j41(26,"p",13),t.EFF(27,"Active Entities"),t.k0s()()(),t.j41(28,"div",16)(29,"div",8),t.qSk(),t.j41(30,"svg",9),t.nrm(31,"path",17),t.k0s()(),t.joV(),t.j41(32,"div",11)(33,"h3",12),t.EFF(34),t.k0s(),t.j41(35,"p",13),t.EFF(36,"Inactive Entities"),t.k0s()()()(),t.j41(37,"div",18)(38,"div",19)(39,"div",20)(40,"h2",21),t.EFF(41,"All Entities"),t.k0s(),t.j41(42,"span",22),t.EFF(43),t.k0s()(),t.DNE(44,G,4,0,"button",23),t.k0s(),t.j41(45,"div",24)(46,"div",25),t.qSk(),t.j41(47,"svg",26),t.nrm(48,"path",27),t.k0s(),t.joV(),t.j41(49,"input",28),t.bIt("ngModelChange",function(d){return o.searchTerm=d})("input",function(){return o.onSearch()}),t.k0s(),t.DNE(50,D,3,0,"button",29),t.k0s(),t.j41(51,"div",30)(52,"select",31),t.bIt("ngModelChange",function(d){return o.typeFilter=d})("change",function(){return o.onFilterChange()}),t.j41(53,"option",32),t.EFF(54,"All Types"),t.k0s(),t.DNE(55,L,2,2,"option",33),t.k0s(),t.j41(56,"select",31),t.bIt("ngModelChange",function(d){return o.statusFilter=d})("change",function(){return o.onFilterChange()}),t.j41(57,"option",32),t.EFF(58,"All Status"),t.k0s(),t.DNE(59,$,2,2,"option",33),t.k0s()()(),t.j41(60,"div",34)(61,"table",35)(62,"thead")(63,"tr")(64,"th"),t.EFF(65,"Entity"),t.k0s(),t.j41(66,"th"),t.EFF(67,"Description"),t.k0s(),t.j41(68,"th"),t.EFF(69,"Type"),t.k0s(),t.j41(70,"th"),t.EFF(71,"Status"),t.k0s(),t.j41(72,"th"),t.EFF(73,"Village"),t.k0s(),t.j41(74,"th"),t.EFF(75,"Subscriptions"),t.k0s(),t.j41(76,"th"),t.EFF(77,"Actions"),t.k0s()()(),t.j41(78,"tbody"),t.DNE(79,X,25,11,"ng-container",36),t.DNE(80,z,9,0,"tr",37),t.k0s()()()()(),t.DNE(81,K,69,16,"div",38)),2&e&&(t.R7$(16),t.JRh(o.totalEntities),t.R7$(9),t.JRh(o.activeEntities),t.R7$(9),t.JRh(o.inactiveEntities),t.R7$(9),t.SpI("",o.filteredEntities.length," entities"),t.R7$(1),t.Y8G("ngIf",o.canCreateEntity()),t.R7$(5),t.Y8G("ngModel",o.searchTerm),t.R7$(1),t.Y8G("ngIf",o.searchTerm),t.R7$(2),t.Y8G("ngModel",o.typeFilter),t.R7$(3),t.Y8G("ngForOf",o.entityTypes),t.R7$(1),t.Y8G("ngModel",o.statusFilter),t.R7$(3),t.Y8G("ngForOf",o.entityStatuses),t.R7$(20),t.Y8G("ngForOf",o.filteredEntities),t.R7$(1),t.Y8G("ngIf",0===o.filteredEntities.length),t.R7$(1),t.Y8G("ngIf",o.showModal))},dependencies:[g.YU,g.Sq,g.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.wz,s.BC,s.cb,s.YS,s.VZ,s.vS,s.cV,g.P9],styles:['.list-container[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 50%,rgba(120,119,198,.3),transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,119,198,.3),transparent 50%),radial-gradient(circle at 40% 20%,rgba(138,180,248,.3),transparent 50%),linear-gradient(135deg,#1e3a8a 0%,#312e81 25%,#4c1d95 50%,#831843 75%,#991b1b 100%);padding:40px}@media (max-width: 768px){.list-container[_ngcontent-%COMP%]{padding:20px}}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:36px;font-weight:800;color:#fff;margin:0 0 8px;display:flex;align-items:center;gap:12px;text-shadow:0 4px 12px rgba(0,0,0,.3)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:40px;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#fffffff2;margin:0;text-shadow:0 2px 8px rgba(0,0,0,.2)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:30px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.stat-card[_ngcontent-%COMP%]{background:white;border-radius:16px;padding:24px;display:flex;align-items:center;gap:20px;box-shadow:0 4px 16px #0000001a;transition:all .3s ease;position:relative;overflow:hidden}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.stat-card.total-card[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.stat-card.total-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%)}.stat-card.total-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#8b5cf6}.stat-card.active-card[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#10b981,#059669)}.stat-card.active-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)}.stat-card.active-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#10b981}.stat-card.inactive-card[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f59e0b,#d97706)}.stat-card.inactive-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%)}.stat-card.inactive-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#f59e0b}.stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:32px;height:32px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:36px;font-weight:800;margin:0 0 4px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0;font-weight:500}.table-section[_ngcontent-%COMP%]{background:rgba(255,255,255,.98);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:0;box-shadow:0 8px 32px #00000026;overflow:hidden}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:28px 32px;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border-bottom:2px solid #e2e8f0}@media (max-width: 768px){.table-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px;padding:20px}}.table-header[_ngcontent-%COMP%]   .table-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.table-header[_ngcontent-%COMP%]   .table-title-section[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;margin:0}.table-header[_ngcontent-%COMP%]   .table-title-section[_ngcontent-%COMP%]   .table-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#64748b;background:white;padding:6px 14px;border-radius:20px;border:2px solid #e2e8f0}.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%);color:#fff;border:none;padding:12px 24px;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;box-shadow:0 4px 16px #10b9814d;transition:all .3s ease}.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #10b98166}.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px}@media (max-width: 768px){.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.table-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;gap:20px;flex-wrap:wrap;background:white}@media (max-width: 768px){.table-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;padding:20px}}.search-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;max-width:450px}@media (max-width: 768px){.search-wrapper[_ngcontent-%COMP%]{max-width:100%}}.search-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:14px;top:50%;transform:translateY(-50%);width:20px;height:20px;color:#94a3b8;pointer-events:none}.search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 44px;border:2px solid #e2e8f0;border-radius:12px;font-size:14px;color:#1e293b;transition:all .3s ease}.search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.search-wrapper[_ngcontent-%COMP%]   .clear-search[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:28px;height:28px;background:#f1f5f9;border:none;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.search-wrapper[_ngcontent-%COMP%]   .clear-search[_ngcontent-%COMP%]:hover{background:#e2e8f0}.search-wrapper[_ngcontent-%COMP%]   .clear-search[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#64748b}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;background:white}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);position:sticky;top:0;z-index:10}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:18px 20px;text-align:left;font-size:12px;font-weight:700;color:#475569;text-transform:uppercase;letter-spacing:.8px;border-bottom:2px solid #e2e8f0;white-space:nowrap;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%)}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:32px}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:32px}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;position:relative}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:1px;background:#e2e8f0;transition:all .3s ease}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,rgba(139,92,246,.03) 0%,rgba(59,130,246,.03) 100%);transform:scale(1.005)}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]:hover:after{background:linear-gradient(90deg,#8b5cf6 0%,#3b82f6 100%);height:2px}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid transparent;font-size:14px;color:#1e293b;vertical-align:middle}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:32px}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:32px}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;border-bottom:none}.item-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.item-info[_ngcontent-%COMP%]   .item-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%);color:#fff;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;flex-shrink:0}.item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600}.status-badge[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%}.status-badge.active[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.action-buttons[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover{background:rgba(59,130,246,.2);transform:scale(1.1)}.action-buttons[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.2);transform:scale(1.1)}.action-buttons[_ngcontent-%COMP%]   .action-btn.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);color:#fff;box-shadow:0 4px 12px #ef444440}.action-buttons[_ngcontent-%COMP%]   .action-btn.btn-danger[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ef444459}.confirm-modal[_ngcontent-%COMP%]{width:100%;max-width:420px;border-radius:16px;overflow:hidden;box-shadow:0 20px 60px #00000059}.confirm-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:18px 20px;border-bottom:1px solid #e2e8f0;background:#fff}.confirm-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#111827}.confirm-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:14px 20px 0;color:#374151;font-size:14px;line-height:1.5}.confirm-modal[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{padding:16px 20px 20px;border-top:1px solid #e5e7eb;gap:10px;justify-content:flex-end}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:64px;height:64px;color:#cbd5e1}.empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#64748b;margin:0}.empty-state[_ngcontent-%COMP%]   .empty-subtext[_ngcontent-%COMP%]{font-size:14px;color:#94a3b8;margin:0}.confirm-overlay[_ngcontent-%COMP%]{align-items:center;justify-content:center;padding:24px}@media (max-width: 640px){.confirm-overlay[_ngcontent-%COMP%]{padding:16px}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.6);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:white;border-radius:20px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 28px;border-bottom:2px solid #e2e8f0;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border-radius:20px 20px 0 0}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:rgba(239,68,68,.1);color:#ef4444;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.2);transform:scale(1.1)}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.modal-form[_ngcontent-%COMP%]{padding:28px}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#475569;margin-bottom:8px}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:12px;font-size:14px;color:#1e293b;transition:all .3s ease;background:#f8fafc}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;background:white;box-shadow:0 0 0 3px #8b5cf61a}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.form-input[_ngcontent-%COMP%]{cursor:pointer}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;font-size:14px;color:#475569}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;accent-color:#8b5cf6}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:2px solid #e2e8f0}.modal-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.modal-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.modal-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e8f0}.modal-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%);color:#fff;box-shadow:0 4px 12px #8b5cf64d}.modal-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #8b5cf666}.list-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}.list-container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%);box-shadow:0 4px 16px #10b9814d}.list-container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #10b98166}.list-container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:auto;white-space:normal;overflow:visible;padding-right:12px}.table-wrapper[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,rgba(139,92,246,.03) 0%,rgba(59,130,246,.03) 100%)}.table-wrapper[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]:hover:after{background:linear-gradient(90deg,#8b5cf6 0%,#3b82f6 100%);height:2px}.item-info[_ngcontent-%COMP%]   .item-avatar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%)}.status-badge.active[_ngcontent-%COMP%]{background:rgba(16,185,129,.1);color:#10b981;border:1px solid rgba(16,185,129,.2)}.status-badge.active[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981}.status-badge.inactive[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);color:#ef4444;border:1px solid rgba(239,68,68,.2)}.status-badge.inactive[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;align-items:center;width:100%;justify-content:flex-start}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{box-sizing:border-box;display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:999px;border:none;font-size:13px;line-height:1.2;white-space:nowrap;max-width:none;min-width:auto;overflow:visible;text-overflow:initial;cursor:pointer;transition:transform .18s ease,box-shadow .2s ease,background .2s ease,color .2s ease,border-color .2s ease,opacity .2s ease;min-height:40px;position:relative;flex:0 0 auto}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex:0 0 18px;transition:transform .2s ease}.action-buttons[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]{background:rgba(59,130,246,.1);color:#3b82f6}.action-buttons[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover{background:rgba(59,130,246,.2);transform:translateY(-1px);box-shadow:0 6px 14px #3b82f626}.action-buttons[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.05)}.action-buttons[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);color:#ef4444}.action-buttons[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.2);transform:translateY(-1px);box-shadow:0 6px 14px #ef444426}.action-buttons[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.05)}.action-buttons[_ngcontent-%COMP%]   .action-btn.subscribe-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%);color:#fff;border:1px solid rgba(16,185,129,.3);font-weight:700;box-shadow:0 2px 6px #10b98140}.action-buttons[_ngcontent-%COMP%]   .action-btn.subscribe-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669 0%,#047857 100%);box-shadow:0 6px 14px #10b98159;transform:translateY(-1px)}.action-buttons[_ngcontent-%COMP%]   .action-btn.subscribe-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.05)}.action-buttons[_ngcontent-%COMP%]   .action-btn.subscribe-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.action-buttons[_ngcontent-%COMP%]   .action-btn.unsubscribe-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);color:#fff;border:1px solid rgba(239,68,68,.3);font-weight:700;box-shadow:0 2px 6px #ef444440}.action-buttons[_ngcontent-%COMP%]   .action-btn.unsubscribe-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626 0%,#b91c1c 100%);box-shadow:0 6px 14px #ef444459;transform:translateY(-1px)}.action-buttons[_ngcontent-%COMP%]   .action-btn.unsubscribe-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.05)}.action-buttons[_ngcontent-%COMP%]   .action-btn.unsubscribe-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #3b82f638}.subscribed-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;background:rgba(16,185,129,.12);color:#059669;border:1px solid rgba(16,185,129,.25);font-size:12px;line-height:1.2;white-space:nowrap;max-width:100%;overflow:hidden;text-overflow:ellipsis}.list-container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:auto!important;height:auto!important;min-height:40px!important;padding:10px 16px!important;border-radius:999px!important;display:inline-flex!important;justify-content:center!important;align-items:center!important;max-width:none!important;overflow:visible!important;white-space:nowrap!important}@media (min-width: 1024px){.list-container[_ngcontent-%COMP%]   .table-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.list-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]{table-layout:auto!important}.list-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{white-space:normal!important}.list-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .action-buttons[_ngcontent-%COMP%]   .action-btn.subscribe-btn[_ngcontent-%COMP%], .list-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .action-buttons[_ngcontent-%COMP%]   .action-btn.unsubscribe-btn[_ngcontent-%COMP%]{min-width:140px!important}}@media (max-width: 640px){.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{flex:1 1 100%;justify-content:center;min-width:0;width:100%;min-height:44px}}']})}}return i})()},{path:"create",component:O},{path:"edit/:id",component:O}];let Z=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(Q),u.iI]})}}return i})();var W=l(1457),tt=l(1825);let nt=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({providers:[c.Tr,x.y,tt.m],imports:[g.MD,s.YN,s.X1,Z,W.w]})}}return i})()}}]);