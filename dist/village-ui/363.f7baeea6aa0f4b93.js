"use strict";(self.webpackChunkvillage_ui=self.webpackChunkvillage_ui||[]).push([[363],{8363:(ae,f,d)=>{d.r(f),d.d(f,{AuthModule:()=>ie});var g=d(177),u=d(2559),i=d(4341),p=d(9700),e=d(2598),_=d(8141),k=d(6344),b=d(629);let h=(()=>{class n{constructor(o,r){this.api=o,this.tokenService=r}login(o){return this.api.post("auth/login",o).pipe((0,_.M)(r=>{localStorage.setItem("access_token",r.token),localStorage.setItem("refresh_token",r.refreshToken)}))}logout(){this.tokenService.logout()}verifyUser(o,r){return this.api.post("auth/verifyuser",{username:o,oldPassword:r})}static{this.\u0275fac=function(r){return new(r||n)(e.KVO(k.G),e.KVO(b.B))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var C=d(2084),w=d(1612);function M(n,a){if(1&n&&(e.j41(0,"div",35)(1,"div",36)(2,"h3"),e.EFF(3,"Account Information"),e.k0s(),e.j41(4,"div",37),e.qSk(),e.j41(5,"svg",8),e.nrm(6,"path",5),e.k0s()()(),e.joV(),e.j41(7,"div",38)(8,"div",39)(9,"label",40),e.EFF(10,"Full Name"),e.k0s(),e.j41(11,"span",41),e.EFF(12),e.k0s()(),e.j41(13,"div",39)(14,"label",40),e.EFF(15,"Email"),e.k0s(),e.j41(16,"span",41),e.EFF(17),e.k0s()(),e.j41(18,"div",39)(19,"label",40),e.EFF(20,"Phone"),e.k0s(),e.j41(21,"span",41),e.EFF(22),e.k0s()(),e.j41(23,"div",39)(24,"label",40),e.EFF(25,"Role"),e.k0s(),e.j41(26,"span",42),e.EFF(27),e.k0s()(),e.j41(28,"div",39)(29,"label",40),e.EFF(30,"Village"),e.k0s(),e.j41(31,"span",41),e.EFF(32),e.k0s()(),e.j41(33,"div",39)(34,"label",40),e.EFF(35,"Account Status"),e.k0s(),e.j41(36,"span",43),e.EFF(37),e.k0s()(),e.j41(38,"div",39)(39,"label",40),e.EFF(40,"Member Since"),e.k0s(),e.j41(41,"span",41),e.EFF(42),e.nI1(43,"date"),e.k0s()(),e.j41(44,"div",39)(45,"label",40),e.EFF(46,"Last Login"),e.k0s(),e.j41(47,"span",41),e.EFF(48),e.nI1(49,"date"),e.k0s()()()()),2&n){const o=e.XpG();e.R7$(12),e.JRh(o.user.name),e.R7$(5),e.JRh(o.user.email),e.R7$(5),e.JRh(o.user.phone),e.R7$(4),e.HbH(o.user.role.toLowerCase()),e.R7$(1),e.SpI(" ",o.user.role.replace("_"," ")," "),e.R7$(5),e.JRh(o.user.village.name||"Not assigned"),e.R7$(4),e.AVh("active",o.user.isActive)("inactive",!o.user.isActive),e.R7$(1),e.SpI(" ",o.user.isActive?"Active":"Inactive"," "),e.R7$(5),e.JRh(e.i5U(43,14,o.user.createdDate,"mediumDate")),e.R7$(6),e.JRh(e.i5U(49,17,o.user.lastLogin,"mediumDate"))}}function P(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"New password is required"),e.k0s())}function v(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"Password must be at least 4 characters"),e.k0s())}function x(n,a){if(1&n&&(e.qSk(),e.joV(),e.j41(0,"span",44),e.DNE(1,P,2,0,"span",45),e.DNE(2,v,2,0,"span",45),e.k0s()),2&n){const o=e.XpG();let r,t;e.R7$(1),e.Y8G("ngIf",null==(r=o.updatePasswordForm.get("newPassword"))||null==r.errors?null:r.errors.required),e.R7$(1),e.Y8G("ngIf",null==(t=o.updatePasswordForm.get("newPassword"))||null==t.errors?null:t.errors.minlength)}}function O(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"Please confirm your password"),e.k0s())}function F(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"Passwords do not match"),e.k0s())}function j(n,a){if(1&n&&(e.qSk(),e.joV(),e.j41(0,"span",44),e.DNE(1,O,2,0,"span",45),e.DNE(2,F,2,0,"span",45),e.k0s()),2&n){const o=e.XpG();let r,t;e.R7$(1),e.Y8G("ngIf",null==(r=o.updatePasswordForm.get("confirmPassword"))||null==r.errors?null:r.errors.required),e.R7$(1),e.Y8G("ngIf",null==(t=o.updatePasswordForm.get("confirmPassword"))||null==t.errors?null:t.errors.passwordMismatch)}}function y(n,a){if(1&n&&(e.j41(0,"div",46),e.qSk(),e.j41(1,"svg",47),e.nrm(2,"path",48),e.k0s(),e.joV(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&n){const o=e.XpG();e.R7$(4),e.JRh(o.errorMessage)}}function E(n,a){if(1&n&&(e.j41(0,"div",49),e.qSk(),e.j41(1,"svg",50),e.nrm(2,"path",25),e.k0s(),e.joV(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&n){const o=e.XpG();e.R7$(4),e.JRh(o.successMessage)}}function I(n,a){1&n&&(e.j41(0,"span",51),e.qSk(),e.j41(1,"svg",8),e.nrm(2,"path",52),e.k0s(),e.EFF(3," Update Password "),e.k0s())}function S(n,a){1&n&&(e.j41(0,"span",53),e.qSk(),e.j41(1,"svg",54),e.nrm(2,"circle",55)(3,"path",56),e.k0s(),e.EFF(4," Updating... "),e.k0s())}let R=(()=>{class n{constructor(o,r){this.fb=o,this.usersService=r,this.user=null,this.close=new e.bkB,this.passwordUpdated=new e.bkB,this.isLoading=!1,this.errorMessage="",this.successMessage="",this.updatePasswordForm=this.fb.group({newPassword:["",[i.k0.required,i.k0.minLength(4)]],confirmPassword:["",i.k0.required]},{validators:this.passwordMatchValidator})}ngOnInit(){}passwordMatchValidator(o){const r=o.get("newPassword"),t=o.get("confirmPassword");return r&&t&&r.value!==t.value?(t.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}onSubmit(){if(this.updatePasswordForm.invalid||!this.user?.id)return void this.markFormGroupTouched();this.isLoading=!0,this.errorMessage="",this.successMessage="";const{newPassword:o}=this.updatePasswordForm.value,r={...this.user,passwordHash:o};this.usersService.updateUser(this.user.id,r).subscribe({next:t=>{this.isLoading=!1,this.successMessage="Password updated successfully! You can now sign in with your new password.",this.passwordUpdated.emit(!0),setTimeout(()=>{this.close.emit()},2e3)},error:t=>{this.isLoading=!1,console.error("Error updating password:",t),this.errorMessage="Failed to update password. Please try again."}})}onClose(){this.close.emit()}markFormGroupTouched(){Object.keys(this.updatePasswordForm.controls).forEach(o=>{this.updatePasswordForm.get(o)?.markAsTouched()})}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(i.ok),e.rXU(p.g))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-user-info-modal"]],inputs:{user:"user"},outputs:{close:"close",passwordUpdated:"passwordUpdated"},decls:48,vars:15,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container","user-info-container",3,"click"],[1,"modal-header"],[1,"modal-title-section"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"modal-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"modal-title"],[1,"modal-close",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],["class","user-info-section",4,"ngIf"],[1,"password-section"],[1,"section-title"],[1,"section-description"],[1,"password-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","newPassword",1,"form-label"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"label-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"input-wrapper"],["id","newPassword","formControlName","newPassword","type","password","placeholder","Enter new password (min 4 characters)",1,"form-input"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"input-icon"],["class","error-message",4,"ngIf"],["for","confirmPassword",1,"form-label"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["id","confirmPassword","formControlName","confirmPassword","type","password","placeholder","Confirm your new password",1,"form-input"],[1,"message-section"],["class","error-alert",4,"ngIf"],["class","success-alert",4,"ngIf"],[1,"button-group"],["type","button",1,"cancel-btn",3,"click"],["type","submit",1,"submit-btn",3,"disabled"],["class","btn-content",4,"ngIf"],["class","btn-loading",4,"ngIf"],[1,"user-info-section"],[1,"user-info-header"],[1,"user-avatar"],[1,"user-details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","role-badge"],[1,"detail-value","status-badge"],[1,"error-message"],[4,"ngIf"],[1,"error-alert"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"error-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"success-alert"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"success-icon"],[1,"btn-content"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"btn-loading"],["viewBox","0 0 24 24",1,"spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(r,t){if(1&r&&(e.j41(0,"div",0),e.bIt("click",function(){return t.onClose()}),e.j41(1,"div",1),e.bIt("click",function(l){return l.stopPropagation()}),e.j41(2,"div",2)(3,"div",3),e.qSk(),e.j41(4,"svg",4),e.nrm(5,"path",5),e.k0s(),e.joV(),e.j41(6,"h2",6),e.EFF(7,"User Verification Successful"),e.k0s()(),e.j41(8,"button",7),e.bIt("click",function(){return t.onClose()}),e.qSk(),e.j41(9,"svg",8),e.nrm(10,"path",9),e.k0s()()(),e.joV(),e.j41(11,"div",10),e.DNE(12,M,50,20,"div",11),e.j41(13,"div",12)(14,"h3",13),e.EFF(15,"Set New Password"),e.k0s(),e.j41(16,"p",14),e.EFF(17," Enter your new password below. Make sure it's at least 4 characters long and easy to remember. "),e.k0s(),e.j41(18,"form",15),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(19,"div",16)(20,"label",17),e.qSk(),e.j41(21,"svg",18),e.nrm(22,"path",19),e.k0s(),e.EFF(23," New Password "),e.k0s(),e.joV(),e.j41(24,"div",20),e.nrm(25,"input",21),e.qSk(),e.j41(26,"svg",22),e.nrm(27,"path",19),e.k0s()(),e.DNE(28,x,3,2,"span",23),e.k0s(),e.joV(),e.j41(29,"div",16)(30,"label",24),e.qSk(),e.j41(31,"svg",18),e.nrm(32,"path",25),e.k0s(),e.EFF(33," Confirm Password "),e.k0s(),e.joV(),e.j41(34,"div",20),e.nrm(35,"input",26),e.qSk(),e.j41(36,"svg",22),e.nrm(37,"path",25),e.k0s()(),e.DNE(38,j,3,2,"span",23),e.k0s(),e.joV(),e.j41(39,"div",27),e.DNE(40,y,5,1,"div",28),e.DNE(41,E,5,1,"div",29),e.k0s(),e.j41(42,"div",30)(43,"button",31),e.bIt("click",function(){return t.onClose()}),e.EFF(44," Cancel "),e.k0s(),e.j41(45,"button",32),e.DNE(46,I,4,0,"span",33),e.DNE(47,S,5,0,"span",34),e.k0s()()()()()()()),2&r){let s,l;e.R7$(12),e.Y8G("ngIf",t.user),e.R7$(6),e.Y8G("formGroup",t.updatePasswordForm),e.R7$(7),e.AVh("error",t.updatePasswordForm.get("newPassword").invalid&&t.updatePasswordForm.get("newPassword").touched),e.R7$(3),e.Y8G("ngIf",t.updatePasswordForm.get("newPassword").invalid&&t.updatePasswordForm.get("newPassword").touched),e.R7$(7),e.AVh("error",(null==(s=t.updatePasswordForm.get("confirmPassword"))?null:s.invalid)&&(null==(s=t.updatePasswordForm.get("confirmPassword"))?null:s.touched)),e.R7$(3),e.Y8G("ngIf",(null==(l=t.updatePasswordForm.get("confirmPassword"))?null:l.invalid)&&(null==(l=t.updatePasswordForm.get("confirmPassword"))?null:l.touched)),e.R7$(2),e.Y8G("ngIf",t.errorMessage),e.R7$(1),e.Y8G("ngIf",t.successMessage),e.R7$(4),e.AVh("loading",t.isLoading),e.Y8G("disabled",t.updatePasswordForm.invalid||t.isLoading),e.R7$(1),e.Y8G("ngIf",!t.isLoading),e.R7$(1),e.Y8G("ngIf",t.isLoading)}},dependencies:[g.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,g.vh],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.6);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-container[_ngcontent-%COMP%]{background:white;border-radius:20px;box-shadow:0 25px 50px -12px #00000040,0 8px 25px #8b5cf626,0 4px 10px #0000001a;border:1px solid rgba(255,255,255,.8);max-width:600px;width:100%;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_modalSlideIn .3s ease}.modal-container.user-info-container[_ngcontent-%COMP%]{max-width:650px}.modal-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#8b5cf6,#7c3aed,#10b981);border-radius:20px 20px 0 0}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #f1f5f9}.modal-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{width:28px;height:28px;color:#8b5cf6}.modal-title[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:700;color:#1f2937;margin:0}.modal-close[_ngcontent-%COMP%]{width:40px;height:40px;background:#f8fafc;border:none;border-radius:10px;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#374151;transform:scale(1.05)}.modal-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.user-info-section[_ngcontent-%COMP%]{margin-bottom:2rem}.user-info-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid #f1f5f9}.user-info-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0}.user-info-header[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,#8b5cf6,#7c3aed);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 4px 12px #8b5cf64d}.user-info-header[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px}.user-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}@media (max-width: 640px){.user-details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e5e7eb}.detail-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.detail-value.role-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:20px;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em}.detail-value.role-badge.super_admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#b91c1c);color:#fff}.detail-value.role-badge.village_admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ea580c,#c2410c);color:#fff}.detail-value.role-badge.villager[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a,#15803d);color:#fff}.detail-value.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:20px;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em}.detail-value.status-badge.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a,#15803d);color:#fff}.detail-value.status-badge.inactive[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff}.password-section[_ngcontent-%COMP%]{border-top:1px solid #f1f5f9;padding-top:1.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0 0 .5rem}.section-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;margin-bottom:1.5rem}.password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:#374151}.form-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#8b5cf6}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 3rem .875rem 1rem;font-size:.875rem;border:2px solid #e5e7eb;border-radius:10px;transition:all .3s cubic-bezier(.4,0,.2,1);background:white;font-weight:500}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a;transform:translateY(-1px)}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.input-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;width:18px;height:18px;color:#9ca3af;pointer-events:none}.message-section[_ngcontent-%COMP%]{margin:1rem 0}.error-alert[_ngcontent-%COMP%], .success-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500}.error-alert[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626}.error-alert[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0}.success-alert[_ngcontent-%COMP%]{background:#f0fdf4;border:1px solid #bbf7d0;color:#166534}.success-alert[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0}.button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end;margin-top:1rem}@media (max-width: 480px){.button-group[_ngcontent-%COMP%]{flex-direction:column}}.cancel-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#f8fafc;color:#64748b;border:1px solid #e5e7eb;border-radius:8px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s ease}.cancel-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.submit-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;border:none;border-radius:8px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #8b5cf64d;position:relative;overflow:hidden}.submit-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #8b5cf666;background:linear-gradient(135deg,#7c3aed,#6d28d9)}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.submit-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.btn-content[_ngcontent-%COMP%], .btn-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .btn-loading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-container[_ngcontent-%COMP%]{border-radius:16px;margin:0}.modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.25rem 1rem}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}.user-details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.detail-item[_ngcontent-%COMP%]{padding:.5rem}.button-group[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 480px){.modal-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem}.modal-title[_ngcontent-%COMP%]{font-size:1.125rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.user-info-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;text-align:center}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.8rem;width:100%}}']})}}return n})();function L(n,a){1&n&&(e.qSk(),e.joV(),e.j41(0,"span",30),e.EFF(1," Please enter a valid email address "),e.k0s())}function z(n,a){1&n&&(e.qSk(),e.joV(),e.j41(0,"span",30),e.EFF(1," Current password is required "),e.k0s())}function V(n,a){if(1&n&&(e.qSk(),e.joV(),e.j41(0,"div",31)(1,"div",32),e.qSk(),e.j41(2,"svg",33),e.nrm(3,"path",34),e.k0s(),e.joV(),e.j41(4,"span"),e.EFF(5),e.k0s()()()),2&n){const o=e.XpG();e.R7$(5),e.JRh(o.errorMessage)}}function G(n,a){1&n&&(e.j41(0,"span",35),e.qSk(),e.j41(1,"svg",8),e.nrm(2,"path",36),e.k0s(),e.EFF(3," Verify Identity "),e.k0s())}function T(n,a){1&n&&(e.j41(0,"span",37),e.qSk(),e.j41(1,"svg",38),e.nrm(2,"circle",39)(3,"path",40),e.k0s(),e.EFF(4," Verifying... "),e.k0s())}function U(n,a){if(1&n){const o=e.RV6();e.j41(0,"app-user-info-modal",41),e.bIt("close",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.onClose())})("passwordUpdated",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.onPasswordUpdated(!0))}),e.k0s()}if(2&n){const o=e.XpG();e.Y8G("user",o.verifiedUser)}}let $=(()=>{class n{constructor(o,r,t){this.fb=o,this.authService=r,this.usersService=t,this.closeModal=new e.bkB,this.passwordUpdated=new e.bkB,this.isLoading=!1,this.errorMessage="",this.showUserInfoModal=!1,this.verifiedUser=null,this.forgetPasswordForm=this.fb.group({username:["",[i.k0.required,i.k0.email]],oldPassword:["",i.k0.required]})}ngOnInit(){}onSubmit(){if(this.forgetPasswordForm.invalid)return void this.markFormGroupTouched();this.isLoading=!0,this.errorMessage="";const{username:o,oldPassword:r}=this.forgetPasswordForm.value;this.authService.verifyUser(o,r).subscribe({next:t=>{this.isLoading=!1,t?(this.verifiedUser=t,this.showUserInfoModal=!0):this.errorMessage="Invalid username or password. Please check your credentials."},error:t=>{this.isLoading=!1,console.error("Error verifying user:",t),this.errorMessage="Failed to verify credentials. Please try again."}})}onClose(){this.forgetPasswordForm.reset(),this.errorMessage="",this.verifiedUser=null,this.showUserInfoModal=!1,this.closeModal.emit()}onPasswordUpdated(o){o&&this.closeModal.emit()}markFormGroupTouched(){Object.keys(this.forgetPasswordForm.controls).forEach(o=>{this.forgetPasswordForm.get(o)?.markAsTouched()})}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(i.ok),e.rXU(h),e.rXU(p.g))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-forget-password-modal"]],outputs:{closeModal:"closeModal",passwordUpdated:"passwordUpdated"},decls:40,vars:14,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title-section"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"modal-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 7a2 2 0 012 2m0 0a2 2 0 012 2m-2-2a2 2 0 00-2 2m2-2a2 2 0 00-2-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v2m-6 8a2 2 0 002-2m0 0a2 2 0 002-2m-2 2a2 2 0 00-2-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v2m-6 8a2 2 0 002-2m0 0a2 2 0 002-2m-2 2a2 2 0 00-2-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v2"],[1,"modal-title"],[1,"modal-close",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],[1,"modal-description"],[1,"reset-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username",1,"form-label"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"label-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"],[1,"input-wrapper"],["id","username","formControlName","username","type","email","placeholder","Enter your email address",1,"form-input"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"input-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["class","error-message",4,"ngIf"],["for","oldPassword",1,"form-label"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["id","oldPassword","formControlName","oldPassword","type","password","placeholder","Enter your current password",1,"form-input"],["class","error-section",4,"ngIf"],["type","submit",1,"submit-btn",3,"disabled"],["class","btn-content",4,"ngIf"],["class","btn-loading",4,"ngIf"],[3,"user","close","passwordUpdated",4,"ngIf"],[1,"error-message"],[1,"error-section"],[1,"error-alert"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"error-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"btn-content"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"btn-loading"],["viewBox","0 0 24 24",1,"spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[3,"user","close","passwordUpdated"]],template:function(r,t){if(1&r&&(e.j41(0,"div",0),e.bIt("click",function(){return t.onClose()}),e.j41(1,"div",1),e.bIt("click",function(l){return l.stopPropagation()}),e.j41(2,"div",2)(3,"div",3),e.qSk(),e.j41(4,"svg",4),e.nrm(5,"path",5),e.k0s(),e.joV(),e.j41(6,"h2",6),e.EFF(7,"Reset Password"),e.k0s()(),e.j41(8,"button",7),e.bIt("click",function(){return t.onClose()}),e.qSk(),e.j41(9,"svg",8),e.nrm(10,"path",9),e.k0s()()(),e.joV(),e.j41(11,"div",10)(12,"p",11),e.EFF(13," Enter your username and current password to verify your identity before resetting your password. "),e.k0s(),e.j41(14,"form",12),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(15,"div",13)(16,"label",14),e.qSk(),e.j41(17,"svg",15),e.nrm(18,"path",16),e.k0s(),e.EFF(19," Username (Email) "),e.k0s(),e.joV(),e.j41(20,"div",17),e.nrm(21,"input",18),e.qSk(),e.j41(22,"svg",19),e.nrm(23,"path",20),e.k0s()(),e.DNE(24,L,2,0,"span",21),e.k0s(),e.joV(),e.j41(25,"div",13)(26,"label",22),e.qSk(),e.j41(27,"svg",15),e.nrm(28,"path",23),e.k0s(),e.EFF(29," Current Password "),e.k0s(),e.joV(),e.j41(30,"div",17),e.nrm(31,"input",24),e.qSk(),e.j41(32,"svg",19),e.nrm(33,"path",23),e.k0s()(),e.DNE(34,z,2,0,"span",21),e.k0s(),e.DNE(35,V,6,1,"div",25),e.joV(),e.j41(36,"button",26),e.DNE(37,G,4,0,"span",27),e.DNE(38,T,5,0,"span",28),e.k0s()()()()(),e.DNE(39,U,1,1,"app-user-info-modal",29)),2&r){let s,l,c,m;e.R7$(14),e.Y8G("formGroup",t.forgetPasswordForm),e.R7$(7),e.AVh("error",(null==(s=t.forgetPasswordForm.get("username"))?null:s.invalid)&&(null==(s=t.forgetPasswordForm.get("username"))?null:s.touched)),e.R7$(3),e.Y8G("ngIf",(null==(l=t.forgetPasswordForm.get("username"))?null:l.invalid)&&(null==(l=t.forgetPasswordForm.get("username"))?null:l.touched)),e.R7$(7),e.AVh("error",(null==(c=t.forgetPasswordForm.get("oldPassword"))?null:c.invalid)&&(null==(c=t.forgetPasswordForm.get("oldPassword"))?null:c.touched)),e.R7$(3),e.Y8G("ngIf",(null==(m=t.forgetPasswordForm.get("oldPassword"))?null:m.invalid)&&(null==(m=t.forgetPasswordForm.get("oldPassword"))?null:m.touched)),e.R7$(1),e.Y8G("ngIf",t.errorMessage),e.R7$(1),e.AVh("loading",t.isLoading),e.Y8G("disabled",t.forgetPasswordForm.invalid||t.isLoading),e.R7$(1),e.Y8G("ngIf",!t.isLoading),e.R7$(1),e.Y8G("ngIf",t.isLoading),e.R7$(1),e.Y8G("ngIf",t.showUserInfoModal)}},dependencies:[g.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,R],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.6);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.modal-container[_ngcontent-%COMP%]{background:white;border-radius:20px;box-shadow:0 25px 50px -12px #00000040,0 8px 25px #8b5cf626,0 4px 10px #0000001a;border:1px solid rgba(255,255,255,.8);max-width:500px;width:100%;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_modalSlideIn .3s ease}.modal-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#8b5cf6,#7c3aed,#10b981);border-radius:20px 20px 0 0}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #f1f5f9}.modal-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{width:28px;height:28px;color:#8b5cf6}.modal-title[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:700;color:#1f2937;margin:0}.modal-close[_ngcontent-%COMP%]{width:40px;height:40px;background:#f8fafc;border:none;border-radius:10px;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#374151;transform:scale(1.05)}.modal-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-description[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;line-height:1.5;margin-bottom:1.5rem}.reset-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:#374151}.form-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#8b5cf6}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 3rem .875rem 1rem;font-size:.875rem;border:2px solid #e5e7eb;border-radius:10px;transition:all .3s cubic-bezier(.4,0,.2,1);background:white;font-weight:500}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a;transform:translateY(-1px)}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.input-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;width:18px;height:18px;color:#9ca3af;pointer-events:none}.error-message[_ngcontent-%COMP%]{font-size:.75rem;color:#ef4444;font-weight:500}.error-section[_ngcontent-%COMP%]{margin:1rem 0}.error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:#fef2f2;border:1px solid #fecaca;border-radius:8px;color:#dc2626;font-size:.875rem;font-weight:500}.error-alert[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.5rem;font-size:.875rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#8b5cf6,#7c3aed);border:none;border-radius:10px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #8b5cf64d;position:relative;overflow:hidden;margin-top:.5rem}.submit-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #8b5cf666;background:linear-gradient(135deg,#7c3aed,#6d28d9)}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.submit-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.btn-content[_ngcontent-%COMP%], .btn-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .btn-loading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.modal-overlay[_ngcontent-%COMP%]{padding:.5rem}.modal-container[_ngcontent-%COMP%]{border-radius:16px;margin:0}.modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.25rem 1rem}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}}@media (max-width: 480px){.modal-header[_ngcontent-%COMP%]{padding:1rem 1rem .75rem}.modal-title[_ngcontent-%COMP%]{font-size:1.125rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.submit-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.8rem}}']})}}return n})();function Y(n,a){1&n&&(e.j41(0,"span",53),e.EFF(1,"Please enter a valid email"),e.k0s())}function N(n,a){1&n&&(e.qSk(),e.j41(0,"svg",32),e.nrm(1,"path",54)(2,"path",55),e.k0s())}function D(n,a){1&n&&(e.qSk(),e.j41(0,"svg",32),e.nrm(1,"path",56),e.k0s())}function A(n,a){1&n&&(e.j41(0,"span",53),e.EFF(1,"Password is required"),e.k0s())}function q(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"Sign In"),e.k0s())}function B(n,a){1&n&&(e.j41(0,"span",57),e.qSk(),e.j41(1,"svg",58),e.nrm(2,"circle",59)(3,"circle",60),e.k0s(),e.EFF(4," Signing in... "),e.k0s())}function X(n,a){if(1&n){const o=e.RV6();e.j41(0,"app-forget-password-modal",61),e.bIt("closeModal",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.closeForgetPasswordModal())}),e.k0s()}}function J(n,a){if(1&n&&(e.j41(0,"option",79),e.EFF(1),e.k0s()),2&n){const o=a.$implicit;e.Y8G("value",o.id),e.R7$(1),e.JRh(o.name)}}function H(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"Find village admins"),e.k0s())}function K(n,a){1&n&&(e.j41(0,"span",80),e.qSk(),e.j41(1,"svg",81),e.nrm(2,"circle",82)(3,"path",83),e.k0s(),e.EFF(4," Loading... "),e.k0s())}function W(n,a){if(1&n&&(e.j41(0,"li")(1,"span",90),e.EFF(2),e.k0s()()),2&n){const o=a.$implicit;e.R7$(2),e.JRh(o)}}function Z(n,a){if(1&n&&(e.qex(0),e.j41(1,"p",87),e.EFF(2,"Please contact your village admin using the following email(s):"),e.k0s(),e.j41(3,"ul",88),e.DNE(4,W,3,1,"li",89),e.k0s(),e.bVm()),2&n){const o=e.XpG(3);e.R7$(4),e.Y8G("ngForOf",o.contactResultEmails)}}function Q(n,a){1&n&&(e.j41(0,"p",91),e.EFF(1,"No village admin emails found for the selected village. Please try another village or contact support."),e.k0s())}function ee(n,a){if(1&n&&(e.j41(0,"div",84),e.DNE(1,Z,5,1,"ng-container",85),e.DNE(2,Q,2,0,"ng-template",null,86,e.C5r),e.k0s()),2&n){const o=e.sdS(3),r=e.XpG(2);e.R7$(1),e.Y8G("ngIf",r.contactResultEmails.length>0)("ngIfElse",o)}}function ne(n,a){if(1&n){const o=e.RV6();e.j41(0,"div",62)(1,"div",63),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.closeContactAdminModal())}),e.k0s(),e.j41(2,"div",64)(3,"div",65)(4,"h3",66),e.EFF(5,"Contact village admin"),e.k0s(),e.j41(6,"button",67),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.closeContactAdminModal())}),e.EFF(7," \u2715 "),e.k0s()(),e.j41(8,"form",68),e.bIt("ngSubmit",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.submitContactAdmin())}),e.j41(9,"div",69)(10,"label",70),e.EFF(11,"Your name"),e.k0s(),e.nrm(12,"input",71),e.k0s(),e.j41(13,"div",69)(14,"label",70),e.EFF(15,"Village"),e.k0s(),e.j41(16,"select",72)(17,"option",73),e.EFF(18,"Select a village"),e.k0s(),e.DNE(19,J,2,2,"option",74),e.k0s()(),e.j41(20,"div",69)(21,"label",70),e.EFF(22,"Reason"),e.k0s(),e.nrm(23,"textarea",75),e.k0s(),e.j41(24,"button",76),e.DNE(25,H,2,0,"span",47),e.DNE(26,K,5,0,"span",77),e.k0s()(),e.DNE(27,ee,4,2,"div",78),e.k0s()()}if(2&n){const o=e.XpG();e.R7$(8),e.Y8G("formGroup",o.contactForm),e.R7$(11),e.Y8G("ngForOf",o.villageOptions),e.R7$(5),e.Y8G("disabled",o.contactLoading||o.contactForm.invalid),e.R7$(1),e.Y8G("ngIf",!o.contactLoading),e.R7$(1),e.Y8G("ngIf",o.contactLoading),e.R7$(1),e.Y8G("ngIf",o.contactSubmitted)}}const te=function(){return{standalone:!0}},oe=[{path:"login",component:(()=>{class n{constructor(o,r,t,s,l,c,m){this.fb=o,this.auth=r,this.router=t,this.villagesService=s,this.usersService=l,this.tokenService=c,this.geolocation=m,this.loginForm=this.fb.group({email:["",[i.k0.required,i.k0.email]],password:["",i.k0.required]}),this.showPassword=!1,this.rememberMe=!1,this.isLoading=!1,this.showForgetPasswordModal=!1,this.showContactAdminModal=!1,this.contactForm=this.fb.group({name:["",[i.k0.required,i.k0.minLength(2)]],villageId:["",[i.k0.required]],reason:["",[i.k0.required,i.k0.minLength(10)]]}),this.villageOptions=[],this.contactResultEmails=[],this.contactLoading=!1,this.contactSubmitted=!1}ngOnInit(){this.villagesService.getAllVillages().subscribe({next:o=>{this.villageOptions=(o||[]).map(r=>({id:r.id,name:r.name}))},error:()=>{this.villageOptions=[]}})}togglePassword(){this.showPassword=!this.showPassword}openForgetPasswordModal(){this.showForgetPasswordModal=!0}closeForgetPasswordModal(){this.showForgetPasswordModal=!1}openContactAdminModal(){this.showContactAdminModal=!0,this.contactSubmitted=!1,this.contactResultEmails=[]}closeContactAdminModal(){this.showContactAdminModal=!1,this.contactForm.reset(),this.contactSubmitted=!1,this.contactResultEmails=[]}submitContactAdmin(){if(this.contactForm.invalid)return void this.contactForm.markAllAsTouched();const{villageId:o}=this.contactForm.value;this.contactLoading=!0,this.usersService.getUsersByVillage(o,p.X.VILLAGE_ADMIN).subscribe({next:r=>{this.contactResultEmails=(r||[]).map(t=>t.email).filter(Boolean),this.contactSubmitted=!0,this.contactLoading=!1},error:()=>{this.contactResultEmails=[],this.contactSubmitted=!0,this.contactLoading=!1}})}ensureUserLocation(){return this.geolocation.ensureUserLocation()}onSubmit(){this.loginForm.invalid||(this.isLoading=!0,this.auth.login(this.loginForm.value).subscribe({next:()=>{console.log("Login successful"),this.ensureUserLocation().then(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])}).catch(()=>{this.isLoading=!1,alert("Location permission is required to continue. Please enable location and try again.")})},error:o=>{console.error("Login error:",o),this.isLoading=!1,this.isLoading=!1;let r="Something went wrong. Please try again later.";0===o.status?r="Unable to connect to the server. Please check your internet connection or try again later.":400===o.status?r=o.error?.message||"Bad request. Please check your input.":401===o.status?r="Invalid email or password. Please try again.":403===o.status?r="Access denied. You are not authorized to log in.":404===o.status?r="Login service not found. Please contact support.":500===o.status&&(r="Server error. Please try again later."),alert(r)}}))}static{this.\u0275fac=function(r){return new(r||n)(e.rXU(i.ok),e.rXU(h),e.rXU(u.Ix),e.rXU(C.v),e.rXU(p.g),e.rXU(b.B),e.rXU(w.O))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],decls:106,vars:20,consts:[[1,"login-wrapper"],[1,"brand-panel"],[1,"brand-content"],[1,"brand-logo"],[1,"logo-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"brand-title"],[1,"brand-tagline"],[1,"brand-features"],[1,"feature-item"],[1,"feature-icon"],[1,"feature-text"],[1,"brand-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"form-panel"],[1,"form-container"],[1,"mobile-header"],[1,"mobile-logo"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10"],[1,"mobile-title"],[1,"mobile-subtitle"],[1,"form-header"],[1,"form-title"],[1,"form-subtitle"],["novalidate","","aria-label","Login form",1,"login-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],[1,"input-wrapper"],[1,"input-icon"],["width","20","height","20","fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"],["id","email","formControlName","email","type","email","placeholder","name@example.com","autocomplete","email",1,"form-input"],["class","error-message",4,"ngIf"],["for","password",1,"form-label"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-input",3,"type"],["type","button","aria-label","Toggle password",1,"password-toggle",3,"click"],["width","20","height","20","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"form-options"],[1,"checkbox-label"],["type","checkbox",1,"checkbox-input",3,"ngModel","ngModelOptions","ngModelChange"],[1,"checkbox-text"],["type","button",1,"link-button",3,"click"],["type","submit",1,"submit-button",3,"disabled"],[4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"form-footer"],["type","button",1,"link-text",3,"click"],[3,"closeModal",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4",4,"ngIf"],[1,"error-message"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],[1,"loading-text"],["viewBox","0 0 24 24",1,"spinner"],["cx","12","cy","12","r","10",1,"spinner-track"],["cx","12","cy","12","r","10",1,"spinner-head"],[3,"closeModal"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4"],[1,"absolute","inset-0","bg-black/40",3,"click"],[1,"relative","z-10","w-full","max-w-md","bg-white","rounded-2xl","shadow-xl","p-6","sm:p-8"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],["type","button","aria-label","Close",1,"text-gray-500","hover:text-gray-700","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500/20",3,"click"],[1,"space-y-4",3,"formGroup","ngSubmit"],[1,"space-y-1"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","formControlName","name","placeholder","Enter your name",1,"form-input","w-full","px-4","py-3","text-sm","border","border-gray-300","rounded-xl","focus:border-blue-500","focus:ring-2","focus:ring-blue-500/20"],["formControlName","villageId",1,"form-select","w-full","px-4","py-3","text-sm","border","border-gray-300","rounded-xl","focus:border-blue-500","focus:ring-2","focus:ring-blue-500/20"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","reason","rows","3","placeholder","Briefly describe why you want to contact",1,"form-input","w-full","px-4","py-3","text-sm","border","border-gray-300","rounded-xl","focus:border-blue-500","focus:ring-2","focus:ring-blue-500/20"],["type","submit",1,"w-full","py-3","px-6","text-sm","font-semibold","text-white","bg-gradient-to-r","from-blue-600","to-indigo-600","hover:from-blue-700","hover:to-indigo-700","rounded-xl","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","disabled:opacity-50",3,"disabled"],["class","inline-flex items-center gap-2",4,"ngIf"],["class","mt-4",4,"ngIf"],[3,"value"],[1,"inline-flex","items-center","gap-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-4","h-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-4"],[4,"ngIf","ngIfElse"],["noAdmins",""],[1,"text-sm","text-gray-700","mb-2"],[1,"list-disc","pl-5","text-sm","text-gray-800"],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"text-sm","text-gray-600"]],template:function(r,t){if(1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.qSk(),e.j41(5,"svg",5),e.nrm(6,"path",6),e.k0s()(),e.joV(),e.j41(7,"h1",7),e.EFF(8,"Village Connect"),e.k0s(),e.j41(9,"p",8),e.EFF(10,"Community Management Platform"),e.k0s()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11),e.EFF(14,"\u{1f3d8}\ufe0f"),e.k0s(),e.j41(15,"div",12)(16,"h3"),e.EFF(17,"Smart Villages"),e.k0s(),e.j41(18,"p"),e.EFF(19,"Manage your community efficiently"),e.k0s()()(),e.j41(20,"div",10)(21,"div",11),e.EFF(22,"\u{1f465}"),e.k0s(),e.j41(23,"div",12)(24,"h3"),e.EFF(25,"Connected People"),e.k0s(),e.j41(26,"p"),e.EFF(27,"Stay in touch with villagers"),e.k0s()()(),e.j41(28,"div",10)(29,"div",11),e.EFF(30,"\u{1f4ca}"),e.k0s(),e.j41(31,"div",12)(32,"h3"),e.EFF(33,"Real-time Insights"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Track events and incidents"),e.k0s()()()(),e.j41(36,"div",13)(37,"div",14)(38,"div",15),e.EFF(39,"10k+"),e.k0s(),e.j41(40,"div",16),e.EFF(41,"Villagers"),e.k0s()(),e.j41(42,"div",14)(43,"div",15),e.EFF(44,"500+"),e.k0s(),e.j41(45,"div",16),e.EFF(46,"Villages"),e.k0s()(),e.j41(47,"div",14)(48,"div",15),e.EFF(49,"24/7"),e.k0s(),e.j41(50,"div",16),e.EFF(51,"Support"),e.k0s()()()()(),e.j41(52,"div",17)(53,"div",18)(54,"div",19)(55,"div",20),e.qSk(),e.j41(56,"svg",21),e.nrm(57,"path",6),e.k0s()(),e.joV(),e.j41(58,"h2",22),e.EFF(59,"Village Connect"),e.k0s(),e.j41(60,"p",23),e.EFF(61,"Sign in to continue"),e.k0s()(),e.j41(62,"div",24)(63,"h2",25),e.EFF(64,"Welcome back"),e.k0s(),e.j41(65,"p",26),e.EFF(66,"Enter your credentials to access your account"),e.k0s()(),e.j41(67,"form",27),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(68,"div",28)(69,"label",29),e.EFF(70,"Email"),e.k0s(),e.j41(71,"div",30)(72,"span",31),e.qSk(),e.j41(73,"svg",32),e.nrm(74,"path",33),e.k0s()(),e.joV(),e.nrm(75,"input",34),e.k0s(),e.DNE(76,Y,2,0,"span",35),e.k0s(),e.j41(77,"div",28)(78,"label",36),e.EFF(79,"Password"),e.k0s(),e.j41(80,"div",30)(81,"span",31),e.qSk(),e.j41(82,"svg",32),e.nrm(83,"path",37),e.k0s()(),e.joV(),e.nrm(84,"input",38),e.j41(85,"button",39),e.bIt("click",function(){return t.togglePassword()}),e.DNE(86,N,3,0,"svg",40),e.DNE(87,D,2,0,"svg",40),e.k0s()(),e.DNE(88,A,2,0,"span",35),e.k0s(),e.j41(89,"div",41)(90,"label",42)(91,"input",43),e.bIt("ngModelChange",function(l){return t.rememberMe=l}),e.k0s(),e.j41(92,"span",44),e.EFF(93,"Remember me"),e.k0s()(),e.j41(94,"button",45),e.bIt("click",function(){return t.openForgetPasswordModal()}),e.EFF(95,"Forgot password?"),e.k0s()(),e.j41(96,"button",46),e.DNE(97,q,2,0,"span",47),e.DNE(98,B,5,0,"span",48),e.k0s()(),e.j41(99,"div",49)(100,"p"),e.EFF(101,"Don't have an account? "),e.j41(102,"button",50),e.bIt("click",function(){return t.openContactAdminModal()}),e.EFF(103,"Contact your village admin"),e.k0s()()()()()(),e.DNE(104,X,1,0,"app-forget-password-modal",51),e.DNE(105,ne,28,6,"div",52)),2&r){let s,l,c,m;e.R7$(67),e.Y8G("formGroup",t.loginForm),e.R7$(8),e.AVh("error",(null==(s=t.loginForm.get("email"))?null:s.invalid)&&(null==(s=t.loginForm.get("email"))?null:s.touched)),e.R7$(1),e.Y8G("ngIf",(null==(l=t.loginForm.get("email"))?null:l.invalid)&&(null==(l=t.loginForm.get("email"))?null:l.touched)),e.R7$(8),e.AVh("error",(null==(c=t.loginForm.get("password"))?null:c.invalid)&&(null==(c=t.loginForm.get("password"))?null:c.touched)),e.Y8G("type",t.showPassword?"text":"password"),e.R7$(2),e.Y8G("ngIf",!t.showPassword),e.R7$(1),e.Y8G("ngIf",t.showPassword),e.R7$(1),e.Y8G("ngIf",(null==(m=t.loginForm.get("password"))?null:m.invalid)&&(null==(m=t.loginForm.get("password"))?null:m.touched)),e.R7$(3),e.Y8G("ngModel",t.rememberMe)("ngModelOptions",e.lJ4(19,te)),e.R7$(5),e.AVh("loading",t.isLoading),e.Y8G("disabled",t.loginForm.invalid||t.isLoading),e.R7$(1),e.Y8G("ngIf",!t.isLoading),e.R7$(1),e.Y8G("ngIf",t.isLoading),e.R7$(6),e.Y8G("ngIf",t.showForgetPasswordModal),e.R7$(1),e.Y8G("ngIf",t.showContactAdminModal)}},dependencies:[g.Sq,g.bT,i.qT,i.xH,i.y7,i.me,i.Zm,i.wz,i.BC,i.cb,i.j4,i.JD,i.vS,$],styles:['[_nghost-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;min-height:100dvh;display:flex;flex-direction:column;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);position:relative;overflow:hidden}@media (min-width: 1024px){.login-wrapper[_ngcontent-%COMP%]{flex-direction:row}}.login-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:100%;height:100%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_float 20s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0) rotate(0)}50%{transform:translate(-30px,30px) rotate(5deg)}}.brand-panel[_ngcontent-%COMP%]{display:none}@media (min-width: 1024px){.brand-panel[_ngcontent-%COMP%]{display:flex;flex:0 0 45%;max-width:600px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);position:relative;padding:4rem 3rem;align-items:center;justify-content:center}}.brand-content[_ngcontent-%COMP%]{position:relative;z-index:10;color:#fff;width:100%;max-width:480px}.brand-logo[_ngcontent-%COMP%]{margin-bottom:4rem}.brand-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:64px;height:64px;background:rgba(255,255,255,.15);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;display:flex;align-items:center;justify-content:center;margin-bottom:1.5rem}.brand-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:36px;height:36px;stroke:#fff}.brand-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(102,126,234,.25);outline-offset:0}@media (max-width: 640px){.brand-logo[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 3rem;font-size:1rem}}.brand-logo[_ngcontent-%COMP%]   .brand-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;margin-bottom:.5rem;letter-spacing:-.02em}.brand-logo[_ngcontent-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{font-size:1.125rem;opacity:.9;font-weight:400}.brand-features[_ngcontent-%COMP%]{margin-bottom:3rem}.brand-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.5rem;padding:1.25rem;background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(255,255,255,.15);transition:all .3s ease}.brand-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.15);transform:translate(8px)}.brand-features[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{font-size:2rem;line-height:1}.brand-features[_ngcontent-%COMP%]   .feature-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.25rem}.brand-features[_ngcontent-%COMP%]   .feature-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;opacity:.85;margin:0}.brand-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.brand-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center;padding:1rem;background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(255,255,255,.15)}.brand-stats[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin-bottom:.25rem}.brand-stats[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;opacity:.85;text-transform:uppercase;letter-spacing:.05em}.form-panel[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:2rem 1rem;position:relative;z-index:10}@media (min-width: 640px){.form-panel[_ngcontent-%COMP%]{padding:3rem 2rem}}@media (min-width: 1024px){.form-panel[_ngcontent-%COMP%]{background:#ffffff;padding:4rem 3rem}}.form-container[_ngcontent-%COMP%]{width:100%;max-width:440px;background:white;border-radius:24px;padding:2.5rem 2rem;box-shadow:0 20px 60px #0000004d}@media (min-width: 1024px){.form-container[_ngcontent-%COMP%]{box-shadow:none;padding:0}}@media (max-width: 640px){.form-container[_ngcontent-%COMP%]{border-radius:20px;padding:2rem 1.25rem}}.mobile-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}@media (min-width: 1024px){.mobile-header[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .mobile-logo[_ngcontent-%COMP%]{width:56px;height:56px;margin:0 auto 1rem;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:14px;display:flex;align-items:center;justify-content:center}.mobile-header[_ngcontent-%COMP%]   .mobile-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#fff}.mobile-header[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a202c;margin-bottom:.25rem}.mobile-header[_ngcontent-%COMP%]   .mobile-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.form-header[_ngcontent-%COMP%]{margin-bottom:2rem}.form-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1a202c;margin-bottom:.5rem;letter-spacing:-.02em}.form-header[_ngcontent-%COMP%]   .form-subtitle[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#334155;margin-bottom:.5rem}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.login-form[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;display:flex;align-items:center;color:#94a3b8;pointer-events:none}.login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 3rem;font-size:.9375rem;border:2px solid #e2e8f0;border-radius:12px;background:#f8fafc;color:#1e293b;transition:all .2s ease}.login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:#ffffff}.login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#ffffff;box-shadow:0 0 0 4px #667eea1a}.login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.login-form[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;background:#fef2f2}.login-form[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]:focus{border-color:#ef4444;box-shadow:0 0 0 4px #ef44441a}.login-form[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:1rem;display:flex;align-items:center;justify-content:center;padding:.5rem;background:none;border:none;color:#94a3b8;cursor:pointer;transition:color .2s ease}.login-form[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#667eea}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;margin-top:.5rem;font-size:.8125rem;color:#ef4444;font-weight:500}.form-options[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem}.form-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer}.form-options[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid #cbd5e1;border-radius:4px;cursor:pointer;accent-color:#667eea}.form-options[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 4px #667eea1a}.form-options[_ngcontent-%COMP%]   .checkbox-text[_ngcontent-%COMP%]{font-size:.875rem;color:#475569;font-weight:500}.form-options[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{background:none;border:none;font-size:.875rem;font-weight:600;color:#667eea;cursor:pointer;padding:.25rem .5rem;border-radius:6px;transition:all .2s ease}.form-options[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]:hover{background:rgba(102,126,234,.1);color:#5568d3}.submit-button[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;font-size:1rem;font-weight:700;color:#fff;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border:none;border-radius:12px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #667eea4d;min-height:48px}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea66}.submit-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.submit-button[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(102,126,234,.35);outline-offset:2px}.submit-button[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}@media (max-width: 640px){.form-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.5rem}.form-header[_ngcontent-%COMP%]   .form-subtitle[_ngcontent-%COMP%]{font-size:.9rem}.submit-button[_ngcontent-%COMP%]{min-height:52px;font-size:1.0625rem}}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.spinner[_ngcontent-%COMP%]   .spinner-track[_ngcontent-%COMP%]{fill:none;stroke:#ffffff4d;stroke-width:3}.spinner[_ngcontent-%COMP%]   .spinner-head[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-width:3;stroke-dasharray:60;stroke-dashoffset:45;stroke-linecap:round}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.form-footer[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e2e8f0;text-align:center}.form-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0}.form-footer[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{background:none;border:none;font-weight:600;color:#667eea;cursor:pointer;padding:0;transition:color .2s ease}.form-footer[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]:hover{color:#5568d3;text-decoration:underline}@supports (padding: env(safe-area-inset-top)){.login-wrapper[_ngcontent-%COMP%]{padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right)}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']})}}return n})()},{path:"register",component:(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-register"]],decls:2,vars:0,template:function(r,t){1&r&&(e.j41(0,"p"),e.EFF(1,"register works!"),e.k0s())}})}}return n})()}];let re=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[u.iI.forChild(oe),u.iI]})}}return n})(),ie=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[g.MD,re,i.X1,i.YN]})}}return n})()}}]);