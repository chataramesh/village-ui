"use strict";(self.webpackChunkvillage_ui=self.webpackChunkvillage_ui||[]).push([[876],{8876:(ot,f,d)=>{d.r(f),d.d(f,{UsersModule:()=>nt});var h=d(177),l=d(4341),C=d(1626),u=d(2559),O=d(5312),c=d(9700),t=d(2598),P=d(2084),M=d(5889);function v(r,a){1&r&&(t.j41(0,"span",65),t.EFF(1," Name is required "),t.k0s())}function x(r,a){1&r&&(t.j41(0,"span",65),t.EFF(1," Valid phone number is required "),t.k0s())}function w(r,a){1&r&&(t.j41(0,"span",65),t.EFF(1," Valid email is required "),t.k0s())}function k(r,a){1&r&&(t.qSk(),t.j41(0,"svg",3),t.nrm(1,"path",71)(2,"path",72),t.k0s())}function j(r,a){1&r&&(t.qSk(),t.j41(0,"svg",3),t.nrm(1,"path",73),t.k0s())}function F(r,a){1&r&&(t.j41(0,"span",65),t.EFF(1," Password must be at least 6 characters "),t.k0s())}function I(r,a){if(1&r){const e=t.RV6();t.j41(0,"div",16)(1,"label",66),t.EFF(2," Password "),t.j41(3,"span",18),t.EFF(4,"*"),t.k0s()(),t.j41(5,"div",19),t.qSk(),t.j41(6,"svg",20),t.nrm(7,"path",67),t.k0s(),t.joV(),t.j41(8,"input",68,69),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.user.passwordHash=n)}),t.k0s(),t.j41(10,"button",70),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.togglePassword())}),t.DNE(11,k,3,0,"svg",63),t.DNE(12,j,2,0,"svg",63),t.k0s()(),t.DNE(13,F,2,0,"span",24),t.k0s()}if(2&r){const e=t.sdS(9),o=t.XpG();t.R7$(8),t.AVh("error",e.invalid&&e.touched),t.Y8G("type",o.showPassword?"text":"password")("ngModel",o.user.passwordHash)("required",!o.isEditMode),t.R7$(3),t.Y8G("ngIf",!o.showPassword),t.R7$(1),t.Y8G("ngIf",o.showPassword),t.R7$(1),t.Y8G("ngIf",e.invalid&&e.touched)}}function y(r,a){if(1&r&&(t.j41(0,"option",74),t.EFF(1),t.k0s()),2&r){const e=a.$implicit,o=t.XpG();t.Y8G("value",e),t.R7$(1),t.SpI(" ",e===o.Role.VILLAGE_ADMIN?"Village Admin":e===o.Role.VILLAGER?"Villager":"Super Admin"," ")}}function S(r,a){1&r&&(t.j41(0,"span",65),t.EFF(1," Role is required "),t.k0s())}function E(r,a){1&r&&(t.j41(0,"span",18),t.EFF(1,"*"),t.k0s())}function V(r,a){if(1&r){const e=t.RV6();t.j41(0,"button",83),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.selectCountry(i.id))}),t.EFF(1),t.k0s()}if(2&r){const e=a.$implicit;t.R7$(1),t.JRh(e.name)}}function R(r,a){1&r&&(t.j41(0,"div",84),t.EFF(1,"No countries found"),t.k0s())}const _=function(){return{standalone:!0}};function U(r,a){if(1&r){const e=t.RV6();t.qSk(),t.joV(),t.j41(0,"div",75)(1,"div",76),t.qSk(),t.j41(2,"svg",77),t.nrm(3,"path",78),t.k0s(),t.joV(),t.j41(4,"input",79),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.countrySearch=n)}),t.k0s()(),t.j41(5,"div",80),t.DNE(6,V,2,1,"button",81),t.DNE(7,R,2,0,"div",82),t.k0s()()}if(2&r){const e=t.XpG();t.R7$(4),t.Y8G("ngModel",e.countrySearch)("ngModelOptions",t.lJ4(4,_)),t.R7$(2),t.Y8G("ngForOf",e.filteredCountries),t.R7$(1),t.Y8G("ngIf",0===e.filteredCountries.length)}}function D(r,a){if(1&r){const e=t.RV6();t.j41(0,"button",83),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.selectState(i.id))}),t.EFF(1),t.k0s()}if(2&r){const e=a.$implicit;t.R7$(1),t.JRh(e.name)}}function $(r,a){1&r&&(t.j41(0,"div",84),t.EFF(1,"No states found"),t.k0s())}function T(r,a){if(1&r){const e=t.RV6();t.qSk(),t.joV(),t.j41(0,"div",75)(1,"div",76),t.qSk(),t.j41(2,"svg",77),t.nrm(3,"path",78),t.k0s(),t.joV(),t.j41(4,"input",85),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.stateSearch=n)}),t.k0s()(),t.j41(5,"div",80),t.DNE(6,D,2,1,"button",81),t.DNE(7,$,2,0,"div",82),t.k0s()()}if(2&r){const e=t.XpG();t.R7$(4),t.Y8G("ngModel",e.stateSearch)("ngModelOptions",t.lJ4(4,_)),t.R7$(2),t.Y8G("ngForOf",e.filteredStates),t.R7$(1),t.Y8G("ngIf",0===e.filteredStates.length)}}function L(r,a){if(1&r){const e=t.RV6();t.j41(0,"button",83),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.selectDistrict(i.id))}),t.EFF(1),t.k0s()}if(2&r){const e=a.$implicit;t.R7$(1),t.JRh(e.name)}}function A(r,a){1&r&&(t.j41(0,"div",84),t.EFF(1,"No districts found"),t.k0s())}function G(r,a){if(1&r){const e=t.RV6();t.qSk(),t.joV(),t.j41(0,"div",75)(1,"div",76),t.qSk(),t.j41(2,"svg",77),t.nrm(3,"path",78),t.k0s(),t.joV(),t.j41(4,"input",86),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.districtSearch=n)}),t.k0s()(),t.j41(5,"div",80),t.DNE(6,L,2,1,"button",81),t.DNE(7,A,2,0,"div",82),t.k0s()()}if(2&r){const e=t.XpG();t.R7$(4),t.Y8G("ngModel",e.districtSearch)("ngModelOptions",t.lJ4(4,_)),t.R7$(2),t.Y8G("ngForOf",e.filteredDistricts),t.R7$(1),t.Y8G("ngIf",0===e.filteredDistricts.length)}}function N(r,a){if(1&r){const e=t.RV6();t.j41(0,"button",83),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.selectMandal(i.id))}),t.EFF(1),t.k0s()}if(2&r){const e=a.$implicit;t.R7$(1),t.JRh(e.name)}}function B(r,a){1&r&&(t.j41(0,"div",84),t.EFF(1,"No mandals found"),t.k0s())}function z(r,a){if(1&r){const e=t.RV6();t.qSk(),t.joV(),t.j41(0,"div",75)(1,"div",76),t.qSk(),t.j41(2,"svg",77),t.nrm(3,"path",78),t.k0s(),t.joV(),t.j41(4,"input",87),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.mandalSearch=n)}),t.k0s()(),t.j41(5,"div",80),t.DNE(6,N,2,1,"button",81),t.DNE(7,B,2,0,"div",82),t.k0s()()}if(2&r){const e=t.XpG();t.R7$(4),t.Y8G("ngModel",e.mandalSearch)("ngModelOptions",t.lJ4(4,_)),t.R7$(2),t.Y8G("ngForOf",e.filteredMandals),t.R7$(1),t.Y8G("ngIf",0===e.filteredMandals.length)}}function q(r,a){if(1&r){const e=t.RV6();t.j41(0,"button",83),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.selectVillage(i.id||""))}),t.EFF(1),t.k0s()}if(2&r){const e=a.$implicit;t.R7$(1),t.JRh(e.name)}}function Y(r,a){1&r&&(t.j41(0,"div",84),t.EFF(1,"No villages found"),t.k0s())}function X(r,a){if(1&r){const e=t.RV6();t.qSk(),t.joV(),t.j41(0,"div",75)(1,"div",76),t.qSk(),t.j41(2,"svg",77),t.nrm(3,"path",78),t.k0s(),t.joV(),t.j41(4,"input",88),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.villageSearch=n)}),t.k0s()(),t.j41(5,"div",80),t.DNE(6,q,2,1,"button",81),t.DNE(7,Y,2,0,"div",82),t.k0s()()}if(2&r){const e=t.XpG();t.R7$(4),t.Y8G("ngModel",e.villageSearch)("ngModelOptions",t.lJ4(4,_)),t.R7$(2),t.Y8G("ngForOf",e.filteredVillages),t.R7$(1),t.Y8G("ngIf",0===e.filteredVillages.length)}}function H(r,a){1&r&&(t.qSk(),t.j41(0,"svg",3),t.nrm(1,"path",89),t.k0s())}function J(r,a){1&r&&(t.qSk(),t.j41(0,"svg",90),t.nrm(1,"circle",91)(2,"path",92),t.k0s())}let b=(()=>{class r{get filteredCountries(){if(!this.countrySearch)return this.countries;const e=this.countrySearch.toLowerCase();return this.countries.filter(o=>(o?.name||"").toLowerCase().includes(e))}get filteredStates(){if(!this.stateSearch)return this.states;const e=this.stateSearch.toLowerCase();return this.states.filter(o=>(o?.name||"").toLowerCase().includes(e))}get filteredDistricts(){if(!this.districtSearch)return this.districts;const e=this.districtSearch.toLowerCase();return this.districts.filter(o=>(o?.name||"").toLowerCase().includes(e))}get filteredMandals(){if(!this.mandalSearch)return this.mandals;const e=this.mandalSearch.toLowerCase();return this.mandals.filter(o=>(o?.name||"").toLowerCase().includes(e))}get filteredVillages(){if(!this.villageSearch)return this.villages;const e=this.villageSearch.toLowerCase();return this.villages.filter(o=>(o?.name||"").toLowerCase().includes(e))}toggleCountry(e){this.countryOpen="boolean"==typeof e?e:!this.countryOpen}toggleState(e){this.stateOpen="boolean"==typeof e?e:!this.stateOpen}toggleDistrict(e){this.districtOpen="boolean"==typeof e?e:!this.districtOpen}toggleMandal(e){this.mandalOpen="boolean"==typeof e?e:!this.mandalOpen}toggleVillage(e){this.villageOpen="boolean"==typeof e?e:!this.villageOpen}selectCountry(e){this.selectedCountryId=e,this.countryOpen=!1,this.countrySearch="",this.onCountryChange()}selectState(e){this.selectedStateId=e,this.stateOpen=!1,this.stateSearch="",this.onStateChange()}selectDistrict(e){this.selectedDistrictId=e,this.districtOpen=!1,this.districtSearch="",this.onDistrictChange()}selectMandal(e){this.selectedMandalId=e,this.mandalOpen=!1,this.mandalSearch="",this.onMandalChange()}selectVillage(e){this.selectedVillageId=e,this.villageOpen=!1,this.villageSearch="",this.onVillageChange()}getCountryNameById(e){return e&&this.countries?.find?.(n=>n?.id===e)?.name||""}getStateNameById(e){return e&&this.states?.find?.(n=>n?.id===e)?.name||""}getDistrictNameById(e){return e&&this.districts?.find?.(n=>n?.id===e)?.name||""}getMandalNameById(e){return e&&this.mandals?.find?.(n=>n?.id===e)?.name||""}getVillageNameById(e){return e&&this.villages?.find?.(n=>n?.id===e)?.name||""}constructor(e,o,n,i,s,g){this.router=e,this.route=o,this.http=n,this.usersService=i,this.villagesService=s,this.toast=g,this.user={name:"",email:"",phone:"",passwordHash:"",role:"",village:{id:"",name:""},isActive:!0},this.villages=[],this.availableRoles=[],this.contextRole=null,this.showVillageDropdown=!1,this.showPassword=!1,this.isEditMode=!1,this.isSubmitting=!1,this.userId=null,this.countries=[],this.states=[],this.districts=[],this.mandals=[],this.selectedCountryId="",this.selectedStateId="",this.selectedDistrictId="",this.selectedMandalId="",this.selectedVillageId="",this.countryOpen=!1,this.stateOpen=!1,this.districtOpen=!1,this.mandalOpen=!1,this.villageOpen=!1,this.countrySearch="",this.stateSearch="",this.districtSearch="",this.mandalSearch="",this.villageSearch="",this.Role=c.X,this.apiUrl=O.c.apiUrl}ngOnInit(){this.route.queryParams.subscribe(e=>{const o=e.role;o&&(this.contextRole=o,this.user.role=this.contextRole),this.setAvailableRoles()}),this.userId=this.route.snapshot.paramMap.get("id"),this.isEditMode=!!this.userId,this.isEditMode&&this.userId&&this.loadUser(this.userId),this.loadCountries()}setAvailableRoles(){this.availableRoles=this.contextRole===c.X.VILLAGE_ADMIN?[c.X.VILLAGE_ADMIN]:this.contextRole===c.X.VILLAGER?[c.X.VILLAGER]:[c.X.SUPER_ADMIN,c.X.VILLAGE_ADMIN,c.X.VILLAGER]}getCreateButtonText(){return this.contextRole===c.X.VILLAGE_ADMIN?"Create Village Admin":this.contextRole===c.X.VILLAGER?"Create Villager":"Create User"}getPageTitle(){return this.isEditMode?this.contextRole===c.X.VILLAGE_ADMIN?"Edit Village Admin":this.contextRole===c.X.VILLAGER?"Edit Villager":"Edit User":this.contextRole===c.X.VILLAGE_ADMIN?"Create Village Admin":this.contextRole===c.X.VILLAGER?"Create Villager":"Create User"}loadUser(e){this.http.get(`${this.apiUrl}/users/${e}`).subscribe({next:o=>{this.user={...o},console.log("data==> "+JSON.stringify(o)),console.log("User loaded:",o),console.log("User role:",this.user.role),this.onRoleChange(),this.isEditMode&&this.user.village&&this.user.village.id&&this.showVillageDropdown&&(console.log("Edit mode: Loading location hierarchy and setting selections"),this.loadCountriesForEdit()),console.log("showVillageDropdown after load:",this.showVillageDropdown)},error:o=>{console.error("Error loading user:",o),this.toast.error("Failed to load user data")}})}loadCountriesForEdit(){this.villagesService.getCoutries().subscribe({next:e=>{this.countries=e,console.log("Countries loaded for edit:",this.countries),1===this.countries.length?(this.selectedCountryId=this.countries[0].id,setTimeout(()=>{this.loadStatesForEdit()},100)):this.user.village?.mandal?.district?.state?.country?.id&&(this.selectedCountryId=this.user.village.mandal.district.state.country.id,console.log("Set country selection:",this.selectedCountryId),setTimeout(()=>{this.loadStatesForEdit()},100))},error:e=>{console.error("Error loading countries:",e),this.countries=[{id:"1",name:"India"}],console.log("Using fallback countries"),1===this.countries.length?(this.selectedCountryId=this.countries[0].id,setTimeout(()=>{this.loadStatesForEdit()},100)):this.user.village?.mandal?.district?.state?.country?.id&&(this.selectedCountryId=this.user.village.mandal.district.state.country.id,setTimeout(()=>{this.loadStatesForEdit()},100))}})}loadStatesForEdit(){this.selectedCountryId&&this.villagesService.getStatesByCountry(this.selectedCountryId).subscribe({next:e=>{this.states=e,console.log("States loaded for edit:",this.states),1===this.states.length?(this.selectedStateId=this.states[0].id,setTimeout(()=>{this.loadDistrictsForEdit()},100)):this.user.village?.mandal?.district?.state?.id&&(this.selectedStateId=this.user.village.mandal.district.state.id,console.log("Set state selection:",this.selectedStateId),setTimeout(()=>{this.loadDistrictsForEdit()},100))},error:e=>{console.error("Error loading states:",e),this.states=[{id:"1",name:"Telangana",country:{id:"1",name:"India"}}],1===this.states.length?(this.selectedStateId=this.states[0].id,setTimeout(()=>{this.loadDistrictsForEdit()},100)):this.user.village?.mandal?.district?.state?.id&&(this.selectedStateId=this.user.village.mandal.district.state.id,setTimeout(()=>{this.loadDistrictsForEdit()},100))}})}loadDistrictsForEdit(){this.selectedStateId&&this.villagesService.getDistrictsByState(this.selectedStateId).subscribe({next:e=>{this.districts=e,console.log("Districts loaded for edit:",this.districts),1===this.districts.length?(this.selectedDistrictId=this.districts[0].id,setTimeout(()=>{this.loadMandalsForEdit()},100)):this.user.village?.mandal?.district?.id&&(this.selectedDistrictId=this.user.village.mandal.district.id,console.log("Set district selection:",this.selectedDistrictId),setTimeout(()=>{this.loadMandalsForEdit()},100))},error:e=>{console.error("Error loading districts:",e),this.districts=[{id:"1",name:"Hyderabad",state:{id:"1",name:"Telangana"}}],1===this.districts.length?(this.selectedDistrictId=this.districts[0].id,setTimeout(()=>{this.loadMandalsForEdit()},100)):this.user.village?.mandal?.district?.id&&(this.selectedDistrictId=this.user.village.mandal.district.id,setTimeout(()=>{this.loadMandalsForEdit()},100))}})}loadMandalsForEdit(){this.selectedDistrictId&&this.villagesService.getMandalsByDistrict(this.selectedDistrictId).subscribe({next:e=>{this.mandals=e,console.log("Mandals loaded for edit:",this.mandals),1===this.mandals.length?(this.selectedMandalId=this.mandals[0].id,setTimeout(()=>{this.loadVillagesForEdit()},100)):this.user.village?.mandal?.id&&(this.selectedMandalId=this.user.village.mandal.id,console.log("Set mandal selection:",this.selectedMandalId),setTimeout(()=>{this.loadVillagesForEdit()},100))},error:e=>{console.error("Error loading mandals:",e),this.mandals=[{id:"1",name:"Mandal 1",district:{id:"1",name:"Hyderabad"}}],1===this.mandals.length?(this.selectedMandalId=this.mandals[0].id,setTimeout(()=>{this.loadVillagesForEdit()},100)):this.user.village?.mandal?.id&&(this.selectedMandalId=this.user.village.mandal.id,setTimeout(()=>{this.loadVillagesForEdit()},100))}})}loadVillagesForEdit(){this.selectedMandalId&&this.villagesService.getVillagesByMandal(this.selectedMandalId).subscribe({next:e=>{this.villages=e,console.log("Villages loaded for edit:",this.villages),1===this.villages.length?(this.selectedVillageId=this.villages[0].id||"",setTimeout(()=>{this.onVillageChange()},100)):this.user.village?.id&&(this.selectedVillageId=this.user.village.id,console.log("Set village selection:",this.selectedVillageId))},error:e=>{console.error("Error loading villages:",e),this.villages=[{id:"1",name:"Village 1"},{id:"2",name:"Village 2"}],1===this.villages.length?(this.selectedVillageId=this.villages[0].id||"",setTimeout(()=>{this.onVillageChange()},100)):this.user.village?.id&&(this.selectedVillageId=this.user.village.id)}})}loadCountries(){this.villagesService.getCoutries().subscribe({next:e=>{this.countries=e,console.log("Countries loaded:",this.countries),1===this.countries.length&&(this.selectedCountryId=this.countries[0].id,setTimeout(()=>{this.onCountryChange()},100))},error:e=>{console.error("Error loading countries:",e),console.log("Using fallback countries:",this.countries)}})}loadStates(e){console.log("Loading states for country ID:",e),this.villagesService.getStatesByCountry(e).subscribe({next:o=>{this.states=o,this.districts=[],this.mandals=[],this.villages=[],this.selectedStateId="",this.selectedDistrictId="",this.selectedMandalId="",this.selectedVillageId="",console.log("States loaded:",this.states),1===this.states.length&&(this.selectedStateId=this.states[0].id,setTimeout(()=>{this.onStateChange()},100))},error:o=>{console.error("Error loading states:",o),this.states=[{id:"1",name:"Telangana",country:{id:"1",name:"India"}},{id:"2",name:"Andhra Pradesh",country:{id:"1",name:"India"}}]}})}loadDistricts(e){this.villagesService.getDistrictsByState(e).subscribe({next:o=>{this.districts=o,this.mandals=[],this.villages=[],this.selectedDistrictId="",this.selectedMandalId="",this.selectedVillageId="",console.log("Districts loaded:",this.districts),1===this.districts.length&&(this.selectedDistrictId=this.districts[0].id,setTimeout(()=>{this.onDistrictChange()},100))},error:o=>{console.error("Error loading districts:",o),this.districts=[{id:"1",name:"Hyderabad",state:{id:"1",name:"Telangana"}},{id:"2",name:"Warangal",state:{id:"1",name:"Telangana"}}]}})}loadMandals(e){this.villagesService.getMandalsByDistrict(e).subscribe({next:o=>{this.mandals=o,this.villages=[],this.selectedMandalId="",this.selectedVillageId="",console.log("Mandals loaded:",this.mandals),1===this.mandals.length&&(this.selectedMandalId=this.mandals[0].id,setTimeout(()=>{this.onMandalChange()},100))},error:o=>{console.error("Error loading mandals:",o),this.mandals=[{id:"1",name:"Mandal 1",district:{id:"1",name:"Hyderabad"}},{id:"2",name:"Mandal 2",district:{id:"1",name:"Hyderabad"}}]}})}loadVillagesByMandal(e){this.villagesService.getVillagesByMandal(e).subscribe({next:o=>{this.villages=o,this.selectedVillageId="",console.log("Villages loaded:",this.villages),1===this.villages.length&&(this.selectedVillageId=this.villages[0].id||"",setTimeout(()=>{this.onVillageChange()},100))},error:o=>{console.error("Error loading villages:",o),this.villages=[{id:"1",name:"Village 1"},{id:"2",name:"Village 2"},{id:"3",name:"Village 3"}]}})}onRoleChange(){console.log("Role changed to:",this.user.role),this.showVillageDropdown=this.user.role===c.X.VILLAGER||this.user.role===c.X.VILLAGE_ADMIN,console.log("showVillageDropdown:",this.showVillageDropdown),this.showVillageDropdown?this.loadCountries():(this.user.village={id:"",name:""},this.selectedCountryId="",this.selectedStateId="",this.selectedDistrictId="",this.selectedMandalId="",this.selectedVillageId="",this.countries=[],this.states=[],this.districts=[],this.mandals=[],this.villages=[])}onCountryChange(){console.log("Country changed - selectedCountryId:",this.selectedCountryId),console.log("Available countries:",this.countries),console.log("Selected country object:",this.countries.find(e=>e.id===this.selectedCountryId)),this.selectedCountryId?this.loadStates(this.selectedCountryId):(this.states=[],this.districts=[],this.mandals=[],this.selectedStateId="",this.selectedDistrictId="",this.selectedMandalId="")}onStateChange(){this.selectedStateId?this.loadDistricts(this.selectedStateId):(this.districts=[],this.mandals=[],this.selectedDistrictId="",this.selectedMandalId="")}onDistrictChange(){this.selectedDistrictId?this.loadMandals(this.selectedDistrictId):(this.mandals=[],this.villages=[],this.selectedMandalId="",this.selectedVillageId="")}onMandalChange(){this.selectedMandalId?this.loadVillagesByMandal(this.selectedMandalId):(this.villages=[],this.selectedVillageId="",this.user.village={id:"",name:""})}onVillageChange(){if(this.selectedVillageId){const e=this.villages.find(o=>o.id===this.selectedVillageId);e&&(this.user.village={id:e.id,name:e.name})}else this.user.village={id:"",name:""}}togglePassword(){this.showPassword=!this.showPassword}onSubmit(){this.isSubmitting||(this.isSubmitting=!0,this.isEditMode?this.usersService.updateUser(this.userId,this.user).subscribe({next:e=>{console.log("User updated successfully:",e),alert("User updated successfully!"),this.isSubmitting=!1,this.router.navigate(["/users"],this.contextRole?{queryParams:{role:this.contextRole},replaceUrl:!0}:{replaceUrl:!0})},error:e=>{console.error("Error updating user:",e),this.toast.error("Failed to update user"),this.isSubmitting=!1}}):this.usersService.createUser(this.user).subscribe({next:e=>{console.log("User created successfully:",e),alert("User created successfully!"),this.isSubmitting=!1,this.router.navigate(["/users"],this.contextRole?{queryParams:{role:this.contextRole},replaceUrl:!0}:{replaceUrl:!0})},error:e=>{console.error("Error creating user:",e),this.toast.error("Failed to create user. Please try again."),this.isSubmitting=!1}}))}onReset(){confirm("Are you sure you want to reset the form?")&&(this.isEditMode&&this.userId?this.loadUser(this.userId):(this.user={name:"",email:"",phone:"",passwordHash:"",role:"",village:{id:"",name:""},isActive:!0},this.showVillageDropdown=!1))}goBack(){this.router.navigate(["/users"],this.contextRole?{queryParams:{role:this.contextRole},replaceUrl:!0}:{replaceUrl:!0})}onBrowserBack(e){this.router.navigate(["/users"],{queryParams:{role:this.contextRole||"VILLAGER"},replaceUrl:!0})}static{this.\u0275fac=function(o){return new(o||r)(t.rXU(u.Ix),t.rXU(u.nX),t.rXU(C.Qq),t.rXU(c.g),t.rXU(P.v),t.rXU(M.f))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-user-create"]],hostBindings:function(o,n){1&o&&t.bIt("popstate",function(s){return n.onBrowserBack(s)},!1,t.tSv)},decls:172,vars:56,consts:[[1,"user-create-container"],[1,"page-header"],[1,"back-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"header-content"],[1,"page-title"],[1,"title-icon"],[1,"page-subtitle"],[1,"form-section"],[3,"ngSubmit"],["userForm","ngForm"],[1,"form-group-section"],[1,"section-title"],[1,"section-icon"],[1,"form-row"],[1,"form-group"],["for","name",1,"form-label"],[1,"required"],[1,"input-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"input-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["type","text","id","name","name","name","placeholder","Enter full name","required","",1,"form-input",3,"ngModel","ngModelChange"],["nameField","ngModel"],["class","error-message",4,"ngIf"],["for","phone",1,"form-label"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["type","tel","id","phone","name","phone","placeholder","+91 98765 43210","required","","pattern","^[\\+]?[0-9\\s\\-\\(\\)]+$",1,"form-input",3,"ngModel","ngModelChange"],["phoneField","ngModel"],["for","email",1,"form-label"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["type","email","id","email","name","email","placeholder","user@example.com","required","","email","",1,"form-input",3,"ngModel","ngModelChange"],["emailField","ngModel"],["class","form-group",4,"ngIf"],["for","role",1,"form-label"],[1,"select-wrapper"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["id","role","name","role","required","",1,"form-select",3,"ngModel","disabled","ngModelChange","change"],["roleField","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-label"],["class","required",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"dropdown"],["type","button",1,"dropdown-control",3,"click"],[1,"dropdown-value"],[1,"dropdown-caret"],["viewBox","0 0 24 24","fill","none","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","dropdown-menu",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"checkbox-label"],["type","checkbox","name","active",1,"form-checkbox",3,"ngModel","ngModelChange"],[1,"checkbox-text"],[1,"checkbox-title"],[1,"checkbox-description"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["type","submit",1,"btn","btn-primary",3,"disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","spinner","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"error-message"],["for","password",1,"form-label"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["id","password","name","password","placeholder","Enter password","minlength","4",1,"form-input",3,"type","ngModel","required","ngModelChange"],["passwordField","ngModel"],["type","button",1,"toggle-password",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],[3,"value"],[1,"dropdown-menu"],[1,"dropdown-search"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"search-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["name","countrySearch","type","text","placeholder","Search countries...","autocomplete","off",1,"dropdown-search-input",3,"ngModel","ngModelOptions","ngModelChange"],[1,"dropdown-list"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["class","dropdown-empty",4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"dropdown-empty"],["name","stateSearch","type","text","placeholder","Search states...","autocomplete","off",1,"dropdown-search-input",3,"ngModel","ngModelOptions","ngModelChange"],["name","districtSearch","type","text","placeholder","Search districts...","autocomplete","off",1,"dropdown-search-input",3,"ngModel","ngModelOptions","ngModelChange"],["name","mandalSearch","type","text","placeholder","Search mandals...","autocomplete","off",1,"dropdown-search-input",3,"ngModel","ngModelOptions","ngModelChange"],["name","villageSearch","type","text","placeholder","Search villages...","autocomplete","off",1,"dropdown-search-input",3,"ngModel","ngModelOptions","ngModelChange"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill","none","viewBox","0 0 24 24",1,"spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"button",2),t.bIt("click",function(){return n.goBack()}),t.qSk(),t.j41(3,"svg",3),t.nrm(4,"path",4),t.k0s(),t.EFF(5," Back "),t.k0s(),t.joV(),t.j41(6,"div",5)(7,"h1",6)(8,"span",7),t.EFF(9),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"p",8),t.EFF(12),t.k0s()()(),t.j41(13,"div",9)(14,"form",10,11),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.j41(16,"div",12)(17,"h2",13)(18,"span",14),t.EFF(19,"\u{1f464}"),t.k0s(),t.EFF(20," Personal Information "),t.k0s(),t.j41(21,"div",15)(22,"div",16)(23,"label",17),t.EFF(24," Full Name "),t.j41(25,"span",18),t.EFF(26,"*"),t.k0s()(),t.j41(27,"div",19),t.qSk(),t.j41(28,"svg",20),t.nrm(29,"path",21),t.k0s(),t.joV(),t.j41(30,"input",22,23),t.bIt("ngModelChange",function(s){return n.user.name=s}),t.k0s()(),t.DNE(32,v,2,0,"span",24),t.k0s(),t.j41(33,"div",16)(34,"label",25),t.EFF(35," Phone Number "),t.j41(36,"span",18),t.EFF(37,"*"),t.k0s()(),t.j41(38,"div",19),t.qSk(),t.j41(39,"svg",20),t.nrm(40,"path",26),t.k0s(),t.joV(),t.j41(41,"input",27,28),t.bIt("ngModelChange",function(s){return n.user.phone=s}),t.k0s()(),t.DNE(43,x,2,0,"span",24),t.k0s()(),t.j41(44,"div",15)(45,"div",16)(46,"label",29),t.EFF(47," Email Address "),t.j41(48,"span",18),t.EFF(49,"*"),t.k0s()(),t.j41(50,"div",19),t.qSk(),t.j41(51,"svg",20),t.nrm(52,"path",30),t.k0s(),t.joV(),t.j41(53,"input",31,32),t.bIt("ngModelChange",function(s){return n.user.email=s}),t.k0s()(),t.DNE(55,w,2,0,"span",24),t.k0s(),t.DNE(56,I,14,8,"div",33),t.k0s()(),t.j41(57,"div",12)(58,"h2",13)(59,"span",14),t.EFF(60,"\u{1f510}"),t.k0s(),t.EFF(61," Role & Access "),t.k0s(),t.j41(62,"div",15)(63,"div",16)(64,"label",34),t.EFF(65," User Role "),t.j41(66,"span",18),t.EFF(67,"*"),t.k0s()(),t.j41(68,"div",35),t.qSk(),t.j41(69,"svg",20),t.nrm(70,"path",36),t.k0s(),t.joV(),t.j41(71,"select",37,38),t.bIt("ngModelChange",function(s){return n.user.role=s})("change",function(){return n.onRoleChange()}),t.j41(73,"option",39),t.EFF(74,"Select a role"),t.k0s(),t.DNE(75,y,2,2,"option",40),t.k0s()(),t.DNE(76,S,2,0,"span",24),t.k0s()(),t.j41(77,"div",16)(78,"label",41),t.EFF(79," Location Selection "),t.DNE(80,E,2,0,"span",42),t.k0s(),t.j41(81,"div",15)(82,"div",16)(83,"label",41),t.EFF(84,"Country"),t.k0s(),t.j41(85,"div",35),t.qSk(),t.j41(86,"svg",20),t.nrm(87,"path",43),t.k0s(),t.joV(),t.j41(88,"div",44)(89,"button",45),t.bIt("click",function(){return n.toggleCountry()}),t.j41(90,"span",46),t.EFF(91),t.k0s(),t.j41(92,"span",47),t.qSk(),t.j41(93,"svg",48),t.nrm(94,"path",49),t.k0s()()(),t.DNE(95,U,8,5,"div",50),t.k0s()()(),t.joV(),t.j41(96,"div",16)(97,"label",41),t.EFF(98,"State"),t.k0s(),t.j41(99,"div",35),t.qSk(),t.j41(100,"svg",20),t.nrm(101,"path",51),t.k0s(),t.joV(),t.j41(102,"div",44)(103,"button",45),t.bIt("click",function(s){return s.stopPropagation(),n.selectedCountryId&&n.states.length>0?n.toggleState():null}),t.j41(104,"span",46),t.EFF(105),t.k0s(),t.j41(106,"span",47),t.qSk(),t.j41(107,"svg",48),t.nrm(108,"path",49),t.k0s()()(),t.DNE(109,T,8,5,"div",50),t.k0s()()()(),t.joV(),t.j41(110,"div",15)(111,"div",16)(112,"label",41),t.EFF(113,"District"),t.k0s(),t.j41(114,"div",35),t.qSk(),t.j41(115,"svg",20),t.nrm(116,"path",52),t.k0s(),t.joV(),t.j41(117,"div",44)(118,"button",45),t.bIt("click",function(s){return s.stopPropagation(),n.selectedStateId&&n.districts.length>0?n.toggleDistrict():null}),t.j41(119,"span",46),t.EFF(120),t.k0s(),t.j41(121,"span",47),t.qSk(),t.j41(122,"svg",48),t.nrm(123,"path",49),t.k0s()()(),t.DNE(124,G,8,5,"div",50),t.k0s()()(),t.joV(),t.j41(125,"div",16)(126,"label",41),t.EFF(127,"Mandal"),t.k0s(),t.j41(128,"div",35),t.qSk(),t.j41(129,"svg",20),t.nrm(130,"path",53),t.k0s(),t.joV(),t.j41(131,"div",44)(132,"button",45),t.bIt("click",function(s){return s.stopPropagation(),n.selectedDistrictId&&n.mandals.length>0?n.toggleMandal():null}),t.j41(133,"span",46),t.EFF(134),t.k0s(),t.j41(135,"span",47),t.qSk(),t.j41(136,"svg",48),t.nrm(137,"path",49),t.k0s()()(),t.DNE(138,z,8,5,"div",50),t.k0s()()()(),t.joV(),t.j41(139,"div",15)(140,"div",16)(141,"label",41),t.EFF(142,"Village"),t.k0s(),t.j41(143,"div",35),t.qSk(),t.j41(144,"svg",20),t.nrm(145,"path",52),t.k0s(),t.joV(),t.j41(146,"div",44)(147,"button",45),t.bIt("click",function(s){return s.stopPropagation(),n.selectedMandalId&&n.villages.length>0?n.toggleVillage():null}),t.j41(148,"span",46),t.EFF(149),t.k0s(),t.j41(150,"span",47),t.qSk(),t.j41(151,"svg",48),t.nrm(152,"path",49),t.k0s()()(),t.DNE(153,X,8,5,"div",50),t.k0s()()()()(),t.joV(),t.j41(154,"div",15)(155,"div",16)(156,"label",54)(157,"input",55),t.bIt("ngModelChange",function(s){return n.user.active=s}),t.k0s(),t.j41(158,"span",56)(159,"span",57),t.EFF(160,"Active User"),t.k0s(),t.j41(161,"span",58),t.EFF(162,"User can login and access the system"),t.k0s()()()()()(),t.j41(163,"div",59)(164,"button",60),t.bIt("click",function(){return n.onReset()}),t.qSk(),t.j41(165,"svg",3),t.nrm(166,"path",61),t.k0s(),t.EFF(167," Reset "),t.k0s(),t.joV(),t.j41(168,"button",62),t.DNE(169,H,2,0,"svg",63),t.DNE(170,J,3,0,"svg",64),t.EFF(171),t.k0s()()()()()),2&o){const i=t.sdS(15),s=t.sdS(31),g=t.sdS(42),p=t.sdS(54),m=t.sdS(72);t.R7$(9),t.JRh(n.isEditMode?"\u270f\ufe0f":"\u2795"),t.R7$(1),t.SpI(" ",n.getPageTitle()," "),t.R7$(2),t.JRh(n.isEditMode?"Update user information":"Add a new user to the system"),t.R7$(18),t.AVh("error",s.invalid&&s.touched),t.Y8G("ngModel",n.user.name),t.R7$(2),t.Y8G("ngIf",s.invalid&&s.touched),t.R7$(9),t.AVh("error",g.invalid&&g.touched),t.Y8G("ngModel",n.user.phone),t.R7$(2),t.Y8G("ngIf",g.invalid&&g.touched),t.R7$(10),t.AVh("error",p.invalid&&p.touched),t.Y8G("ngModel",n.user.email),t.R7$(2),t.Y8G("ngIf",p.invalid&&p.touched),t.R7$(1),t.Y8G("ngIf",!n.isEditMode),t.R7$(15),t.AVh("error",m.invalid&&m.touched),t.Y8G("ngModel",n.user.role)("disabled",null!==n.contextRole),t.R7$(4),t.Y8G("ngForOf",n.availableRoles),t.R7$(1),t.Y8G("ngIf",m.invalid&&m.touched),t.R7$(4),t.Y8G("ngIf",n.showVillageDropdown),t.R7$(8),t.AVh("open",n.countryOpen),t.R7$(3),t.JRh(n.selectedCountryId?n.getCountryNameById(n.selectedCountryId)||"Selected":"Select a country"),t.R7$(4),t.Y8G("ngIf",n.countryOpen),t.R7$(7),t.AVh("open",n.stateOpen),t.R7$(1),t.AVh("disabled",!n.selectedCountryId||0===n.states.length),t.R7$(2),t.JRh(n.selectedStateId?n.getStateNameById(n.selectedStateId)||"Selected":n.selectedCountryId?0===n.states.length?"Loading states...":"Select a state":"Select country first"),t.R7$(4),t.Y8G("ngIf",n.stateOpen),t.R7$(8),t.AVh("open",n.districtOpen),t.R7$(1),t.AVh("disabled",!n.selectedStateId||0===n.districts.length),t.R7$(2),t.JRh(n.selectedDistrictId?n.getDistrictNameById(n.selectedDistrictId)||"Selected":n.selectedStateId?0===n.districts.length?"Loading districts...":"Select a district":"Select state first"),t.R7$(4),t.Y8G("ngIf",n.districtOpen),t.R7$(7),t.AVh("open",n.mandalOpen),t.R7$(1),t.AVh("disabled",!n.selectedDistrictId||0===n.mandals.length),t.R7$(2),t.JRh(n.selectedMandalId?n.getMandalNameById(n.selectedMandalId)||"Selected":n.selectedDistrictId?0===n.mandals.length?"Loading mandals...":"Select a mandal":"Select district first"),t.R7$(4),t.Y8G("ngIf",n.mandalOpen),t.R7$(8),t.AVh("open",n.villageOpen),t.R7$(1),t.AVh("disabled",!n.selectedMandalId||0===n.villages.length),t.R7$(2),t.JRh(n.selectedVillageId?n.getVillageNameById(n.selectedVillageId)||"Selected":n.selectedMandalId?0===n.villages.length?"Loading villages...":"Select a village":"Select mandal first"),t.R7$(4),t.Y8G("ngIf",n.villageOpen),t.R7$(4),t.Y8G("ngModel",n.user.active),t.R7$(11),t.Y8G("disabled",i.invalid||n.isSubmitting),t.R7$(1),t.Y8G("ngIf",!n.isSubmitting),t.R7$(1),t.Y8G("ngIf",n.isSubmitting),t.R7$(1),t.SpI(" ",n.isSubmitting?"Saving...":n.isEditMode?"Update User":n.getCreateButtonText()," ")}},dependencies:[h.Sq,h.bT,l.qT,l.xH,l.y7,l.me,l.Zm,l.wz,l.BC,l.cb,l.YS,l.xh,l.R_,l.Dg,l.vS,l.cV],styles:[".user-create-container[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 50%,rgba(120,119,198,.3),transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,119,198,.3),transparent 50%),radial-gradient(circle at 40% 20%,rgba(138,180,248,.3),transparent 50%),linear-gradient(135deg,#1e3a8a 0%,#312e81 25%,#4c1d95 50%,#831843 75%,#991b1b 100%);padding:40px}@media (max-width: 768px){.user-create-container[_ngcontent-%COMP%]{padding:20px}}.page-header[_ngcontent-%COMP%]{margin-bottom:32px;display:flex;align-items:flex-start;gap:20px}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.15);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.2);color:#fff;padding:12px 20px;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .3s ease}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.25);border-color:#ffffff4d;transform:translate(-4px)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:36px;font-weight:800;color:#fff;margin:0 0 8px;display:flex;align-items:center;gap:12px;text-shadow:0 4px 12px rgba(0,0,0,.3)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:40px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#fffffff2;margin:0;text-shadow:0 2px 8px rgba(0,0,0,.2)}.form-section[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;background:rgba(255,255,255,.98);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:40px;box-shadow:0 8px 32px #00000026}@media (max-width: 768px){.form-section[_ngcontent-%COMP%]{padding:24px}}.form-group-section[_ngcontent-%COMP%]{margin-bottom:40px}.form-group-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1e293b;margin:0 0 24px;display:flex;align-items:center;gap:10px;padding-bottom:12px;border-bottom:2px solid #e2e8f0}.form-group-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:24px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-bottom:24px;overflow:visible}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#475569;display:flex;align-items:center;gap:4px}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:14px;width:20px;height:20px;color:#94a3b8;pointer-events:none;z-index:1}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:12px 14px 12px 44px;border:2px solid #e2e8f0;border-radius:12px;font-size:14px;color:#1e293b;background:white;transition:all .3s ease;min-height:48px}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%]{border-color:#ef4444}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-select.error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{cursor:pointer;appearance:none;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:right 12px center;background-size:20px;padding-right:40px;transition:border-color .2s ease,box-shadow .2s ease,background .2s ease}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover{border-color:#cbd5e1}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled{background-color:#f8fafc;color:#94a3b8;cursor:not-allowed;opacity:.85}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative;width:100%}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown.open[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown.open[_ngcontent-%COMP%]{z-index:1000}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown.open[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown.open[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]{border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61f}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]{width:100%;min-height:48px;padding:12px 40px 12px 44px;border:2px solid #e2e8f0;border-radius:12px;background:#fff;font-size:14px;color:#1e293b;font-weight:500;display:flex;align-items:center;justify-content:space-between;cursor:pointer;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control.disabled[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control.disabled[_ngcontent-%COMP%]{cursor:not-allowed;background:#f8fafc;color:#94a3b8}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]:hover:not(.disabled), .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#cbd5e1}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]   .dropdown-value[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]   .dropdown-value[_ngcontent-%COMP%]{flex:1;text-align:left}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]   .dropdown-caret[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]   .dropdown-caret[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#94a3b8}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]   .dropdown-caret[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-control[_ngcontent-%COMP%]   .dropdown-caret[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:calc(100% + 8px);background:#fff;border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 12px 30px #0f172a1f;z-index:2000;overflow:hidden}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]{position:relative;padding:8px 12px;border-bottom:1px solid #f1f5f9}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);width:16px;height:16px;color:#94a3b8}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px 10px 36px;border:2px solid #e2e8f0;border-radius:10px;font-size:13.5px;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]{max-height:260px;overflow-y:auto}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:10px 12px;background:transparent;border:none;text-align:left;font-size:14px;color:#334155;cursor:pointer;transition:all .15s ease}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-empty[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-empty[_ngcontent-%COMP%]{padding:12px;font-size:13px;color:#64748b;text-align:center}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;width:36px;height:36px;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#64748b}.form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover, .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{background:#f1f5f9}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:12px;color:#ef4444;margin-top:4px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;cursor:pointer;padding:16px;background:#f8fafc;border-radius:12px;border:2px solid #e2e8f0;transition:all .3s ease}.checkbox-label[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.checkbox-label[_ngcontent-%COMP%]   .form-checkbox[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:2px;cursor:pointer;accent-color:#8b5cf6}.checkbox-label[_ngcontent-%COMP%]   .checkbox-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.checkbox-label[_ngcontent-%COMP%]   .checkbox-text[_ngcontent-%COMP%]   .checkbox-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b}.checkbox-label[_ngcontent-%COMP%]   .checkbox-text[_ngcontent-%COMP%]   .checkbox-description[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:40px;padding-top:32px;border-top:2px solid #e2e8f0}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:14px 32px;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;justify-content:center;transition:all .3s ease;border:none;min-width:150px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.form-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:white;color:#64748b;border:2px solid #e2e8f0}.form-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1;color:#475569}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%);color:#fff;box-shadow:0 4px 16px #8b5cf64d}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #8b5cf666}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return r})();function Q(r,a){if(1&r){const e=t.RV6();t.j41(0,"button",54),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.clearSearch())}),t.qSk(),t.j41(1,"svg",47),t.nrm(2,"path",55),t.k0s()()}}function W(r,a){if(1&r&&(t.qSk(),t.joV(),t.j41(0,"tr",69)(1,"td",70)(2,"div",71)(3,"div",72)(4,"div",73)(5,"span",74),t.EFF(6,"Full Name"),t.k0s(),t.j41(7,"span",75),t.EFF(8),t.k0s()(),t.j41(9,"div",73)(10,"span",74),t.EFF(11,"Email Address"),t.k0s(),t.j41(12,"span",75),t.EFF(13),t.k0s()(),t.j41(14,"div",73)(15,"span",74),t.EFF(16,"Phone Number"),t.k0s(),t.j41(17,"span",75),t.EFF(18),t.k0s()(),t.j41(19,"div",73)(20,"span",74),t.EFF(21,"Role"),t.k0s(),t.j41(22,"span",75),t.EFF(23),t.k0s()(),t.j41(24,"div",73)(25,"span",74),t.EFF(26,"Created Date"),t.k0s(),t.j41(27,"span",75),t.EFF(28),t.nI1(29,"date"),t.k0s()(),t.j41(30,"div",73)(31,"span",74),t.EFF(32,"Last Login"),t.k0s(),t.j41(33,"span",75),t.EFF(34),t.nI1(35,"date"),t.k0s()(),t.j41(36,"div",73)(37,"span",74),t.EFF(38,"Account Status"),t.k0s(),t.j41(39,"span",75)(40,"span",61),t.nrm(41,"span",62),t.EFF(42),t.k0s()()(),t.j41(43,"div",73)(44,"span",74),t.EFF(45,"User ID"),t.k0s(),t.j41(46,"span",75),t.EFF(47),t.k0s()()()()()()),2&r){const e=t.XpG().$implicit,o=t.XpG();t.R7$(8),t.JRh(e.name),t.R7$(5),t.JRh(e.email),t.R7$(5),t.JRh(e.phone),t.R7$(5),t.JRh(o.Role[e.role]||e.role),t.R7$(5),t.JRh(t.i5U(29,12,e.createdDate,"MMMM dd, yyyy")),t.R7$(6),t.JRh(t.i5U(35,15,e.lastLogin,"MMM dd, yyyy HH:mm")),t.R7$(6),t.AVh("active",e.active)("inactive",!e.active),t.R7$(2),t.SpI(" ",e.active?"Active":"Inactive"," "),t.R7$(5),t.JRh(e.id)}}function Z(r,a){if(1&r){const e=t.RV6();t.qex(0),t.j41(1,"tr",56),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG();return t.Njj(i.id&&s.toggleUserDetails(i.id))}),t.j41(2,"td")(3,"div",57)(4,"div",58),t.EFF(5),t.k0s(),t.j41(6,"span",59),t.EFF(7),t.k0s()()(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td")(13,"span",60),t.EFF(14),t.k0s()(),t.j41(15,"td")(16,"span",61),t.nrm(17,"span",62),t.EFF(18),t.k0s()(),t.j41(19,"td")(20,"div",63),t.bIt("click",function(n){return n.stopPropagation()}),t.j41(21,"button",64),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG();return t.Njj(i.id&&s.editUser(i.id))}),t.qSk(),t.j41(22,"svg",47),t.nrm(23,"path",65),t.k0s()(),t.joV(),t.j41(24,"button",66),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG();return t.Njj(i.id&&s.deleteUser(i.id))}),t.qSk(),t.j41(25,"svg",47),t.nrm(26,"path",67),t.k0s()()()()(),t.DNE(27,W,48,18,"tr",68),t.bVm()}if(2&r){const e=a.$implicit,o=t.XpG();t.R7$(1),t.AVh("expanded",o.expandedUserId===e.id),t.R7$(4),t.JRh(e.name.charAt(0).toUpperCase()),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.email),t.R7$(2),t.JRh(e.phone),t.R7$(2),t.HbH("role-"+e.role),t.R7$(1),t.JRh(o.Role[e.role]||e.role),t.R7$(2),t.AVh("active",e.active)("inactive",!e.active),t.R7$(2),t.SpI(" ",e.active?"Active":"Inactive"," "),t.R7$(9),t.Y8G("ngIf",o.expandedUserId===e.id)}}function K(r,a){1&r&&(t.j41(0,"tr",76)(1,"td",70)(2,"div",77),t.qSk(),t.j41(3,"svg",78),t.nrm(4,"path",79),t.k0s(),t.joV(),t.j41(5,"p",80),t.EFF(6,"No users found"),t.k0s(),t.j41(7,"p",81),t.EFF(8,"Try adjusting your search or filters"),t.k0s()()()())}const tt=[{path:"",component:(()=>{class r{constructor(e,o,n,i){this.router=e,this.route=o,this.usersService=n,this.toast=i,this.totalUsers=0,this.activeUsers=0,this.inactiveUsers=0,this.searchTerm="",this.statusFilter="all",this.roleFilter="all",this.contextRole=null,this.contextVillageId=null,this.contextVillageName=null,this.Role=c.X,this.users=[],this.filteredUsers=[],this.expandedUserId=null}ngOnInit(){this.route.queryParams.subscribe(e=>{const o=e.role,n=e.villageId,i=e.villageName;if(o){this.contextRole=o,this.roleFilter=this.contextRole;try{localStorage.setItem("ul_context_role",this.contextRole)}catch{}}if(n){this.contextVillageId=n;try{localStorage.setItem("ul_context_village_id",this.contextVillageId)}catch{}}if(i){this.contextVillageName=i;try{localStorage.setItem("ul_context_village_name",this.contextVillageName)}catch{}}if(!o&&!n)try{const s=localStorage.getItem("ul_context_role"),g=localStorage.getItem("ul_context_village_id"),p=localStorage.getItem("ul_context_village_name");s&&(this.contextRole=s,this.roleFilter=s),g&&(this.contextVillageId=g),p&&(this.contextVillageName=p)}catch{}this.contextRole||this.contextVillageId?this.loadUsers():this.router.navigate(["/dashboard"])})}loadUsers(){this.contextVillageId?this.usersService.getUsersByVillage(this.contextVillageId,this.roleFilter).subscribe({next:e=>{this.users=e,this.updateStats(),this.applyFilters()},error:e=>{console.error("Error loading users by village:",e),this.users=[],this.updateStats(),this.applyFilters()}}):this.contextRole?this.usersService.getUsersByRole(this.contextRole).subscribe({next:e=>{this.users=e,this.updateStats(),this.applyFilters()},error:e=>{console.error("Error loading users:",e),this.users=[],this.updateStats(),this.applyFilters()}}):this.usersService.getAllUsers().subscribe({next:e=>{this.users=e,this.updateStats(),this.applyFilters()},error:e=>{console.error("Error loading users:",e),this.users=[],this.updateStats(),this.applyFilters()}})}updateStats(){this.totalUsers=this.users.length,this.activeUsers=this.users.filter(e=>e.active).length,this.inactiveUsers=this.users.filter(e=>!e.active).length}onSearch(){this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}onFilterChange(){this.contextRole?(this.roleFilter=this.contextRole,this.applyFilters()):this.applyFilters()}applyFilters(){let e=[...this.users];if(this.searchTerm){const o=this.searchTerm.toLowerCase();e=e.filter(n=>n.name.toLowerCase().includes(o)||n.email.toLowerCase().includes(o)||n.phone.toLowerCase().includes(o))}if("all"!==this.statusFilter){const o="active"===this.statusFilter;e=e.filter(n=>n.active===o)}"all"!==this.roleFilter&&!this.contextRole&&(e=e.filter(o=>o.role===this.roleFilter)),this.filteredUsers=e}toggleUserDetails(e){this.expandedUserId=this.expandedUserId===e?null:e}navigateToCreate(){const e={};this.contextRole&&(e.role=this.contextRole),this.contextVillageId&&(e.villageId=this.contextVillageId,e.villageName=this.contextVillageName),this.router.navigate(["/users/create"],{queryParams:e,replaceUrl:!0})}editUser(e){console.log("Edit user:",e),this.router.navigate(["/users/edit",e])}deleteUser(e){confirm("Are you sure you want to delete this user?")&&this.usersService.deleteUser(e).subscribe({next:()=>{this.loadUsers()},error:o=>{console.error("Error deleting user:",o),this.toast.error("Failed to delete user")}})}getPageTitle(){return this.contextVillageId?`${this.contextVillageName||"Village"} Villagers`:"VILLAGE_ADMIN"===this.contextRole?"Village Admins":"VILLAGER"===this.contextRole?"Villagers":"User Management"}getCreateButtonText(){return this.contextVillageId?"Create Villager":"VILLAGE_ADMIN"===this.contextRole?"Create Admin":"VILLAGER"===this.contextRole?"Create Villager":"Create User"}getStatsLabel(){return this.contextVillageId?"Villagers":"VILLAGE_ADMIN"===this.contextRole?"Admins":"VILLAGER"===this.contextRole?"Villagers":"Users"}getSubtitle(){return this.contextVillageId?`Manage villagers in ${this.contextVillageName||"your village"}`:"VILLAGE_ADMIN"===this.contextRole?"Manage and monitor village admins in the system":"VILLAGER"===this.contextRole?"Manage and monitor villagers in the system":"Manage and monitor all users in the system"}static{this.\u0275fac=function(o){return new(o||r)(t.rXU(u.Ix),t.rXU(u.nX),t.rXU(c.g),t.rXU(M.f))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-user-list"]],decls:107,vars:21,consts:[[1,"user-list-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"title-icon"],[1,"page-subtitle"],[1,"stats-grid"],[1,"stat-card","total-card"],[1,"stat-icon-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"stat-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","active-card"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card","inactive-card"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"table-section"],[1,"table-header"],[1,"table-title-section"],[1,"table-title"],[1,"table-count"],[1,"create-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"btn-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"table-controls"],[1,"search-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search by name, email, or phone...",1,"search-input",3,"ngModel","ngModelChange","input"],["class","clear-search",3,"click",4,"ngIf"],[1,"filter-group"],[1,"filter-select",3,"ngModel","ngModelChange","change"],["value","all"],["value","active"],["value","inactive"],["value","VILLAGER"],["value","VILLAGE_ADMIN"],[1,"table-wrapper"],[1,"users-table"],[4,"ngFor","ngForOf"],["class","empty-row",4,"ngIf"],[1,"pagination-section"],[1,"pagination-info"],[1,"pagination-controls"],["disabled","",1,"pagination-btn"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"page-numbers"],[1,"page-number","active"],[1,"page-number"],[1,"pagination-btn"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"clear-search",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"user-row",3,"click"],[1,"user-info"],[1,"user-avatar"],[1,"user-name"],[1,"role-badge"],[1,"status-badge"],[1,"status-dot"],[1,"action-buttons",3,"click"],["title","Edit",1,"action-btn","edit-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Delete",1,"action-btn","delete-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["class","details-row",4,"ngIf"],[1,"details-row"],["colspan","7"],[1,"user-details"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"empty-row"],[1,"empty-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"empty-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"empty-text"],[1,"empty-subtext"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"span",4),t.EFF(5,"\u{1f465}"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"p",5),t.EFF(8),t.k0s()()(),t.j41(9,"div",6)(10,"div",7)(11,"div",8),t.qSk(),t.j41(12,"svg",9),t.nrm(13,"path",10),t.k0s()(),t.joV(),t.j41(14,"div",11)(15,"h3",12),t.EFF(16),t.k0s(),t.j41(17,"p",13),t.EFF(18),t.k0s()()(),t.j41(19,"div",14)(20,"div",8),t.qSk(),t.j41(21,"svg",9),t.nrm(22,"path",15),t.k0s()(),t.joV(),t.j41(23,"div",11)(24,"h3",12),t.EFF(25),t.k0s(),t.j41(26,"p",13),t.EFF(27),t.k0s()()(),t.j41(28,"div",16)(29,"div",8),t.qSk(),t.j41(30,"svg",9),t.nrm(31,"path",17),t.k0s()(),t.joV(),t.j41(32,"div",11)(33,"h3",12),t.EFF(34),t.k0s(),t.j41(35,"p",13),t.EFF(36),t.k0s()()()(),t.j41(37,"div",18)(38,"div",19)(39,"div",20)(40,"h2",21),t.EFF(41),t.k0s(),t.j41(42,"span",22),t.EFF(43),t.k0s()(),t.j41(44,"button",23),t.bIt("click",function(){return n.navigateToCreate()}),t.qSk(),t.j41(45,"svg",24),t.nrm(46,"path",25),t.k0s(),t.EFF(47),t.k0s()(),t.joV(),t.j41(48,"div",26)(49,"div",27),t.qSk(),t.j41(50,"svg",28),t.nrm(51,"path",29),t.k0s(),t.joV(),t.j41(52,"input",30),t.bIt("ngModelChange",function(s){return n.searchTerm=s})("input",function(){return n.onSearch()}),t.k0s(),t.DNE(53,Q,3,0,"button",31),t.k0s(),t.j41(54,"div",32)(55,"select",33),t.bIt("ngModelChange",function(s){return n.statusFilter=s})("change",function(){return n.onFilterChange()}),t.j41(56,"option",34),t.EFF(57,"All Status"),t.k0s(),t.j41(58,"option",35),t.EFF(59,"Active"),t.k0s(),t.j41(60,"option",36),t.EFF(61,"Inactive"),t.k0s()(),t.j41(62,"select",33),t.bIt("ngModelChange",function(s){return n.roleFilter=s})("change",function(){return n.onFilterChange()}),t.j41(63,"option",34),t.EFF(64,"All Roles"),t.k0s(),t.j41(65,"option",37),t.EFF(66,"Villager"),t.k0s(),t.j41(67,"option",38),t.EFF(68,"Village Admin"),t.k0s()()()(),t.j41(69,"div",39)(70,"table",40)(71,"thead")(72,"tr")(73,"th"),t.EFF(74,"Name"),t.k0s(),t.j41(75,"th"),t.EFF(76,"Email"),t.k0s(),t.j41(77,"th"),t.EFF(78,"Phone"),t.k0s(),t.j41(79,"th"),t.EFF(80,"Role"),t.k0s(),t.j41(81,"th"),t.EFF(82,"Status"),t.k0s(),t.j41(83,"th"),t.EFF(84,"Actions"),t.k0s()()(),t.j41(85,"tbody"),t.DNE(86,Z,28,15,"ng-container",41),t.DNE(87,K,9,0,"tr",42),t.k0s()()(),t.j41(88,"div",43)(89,"div",44),t.EFF(90),t.k0s(),t.j41(91,"div",45)(92,"button",46),t.qSk(),t.j41(93,"svg",47),t.nrm(94,"path",48),t.k0s(),t.EFF(95," Previous "),t.k0s(),t.joV(),t.j41(96,"div",49)(97,"button",50),t.EFF(98,"1"),t.k0s(),t.j41(99,"button",51),t.EFF(100,"2"),t.k0s(),t.j41(101,"button",51),t.EFF(102,"3"),t.k0s()(),t.j41(103,"button",52),t.EFF(104," Next "),t.qSk(),t.j41(105,"svg",47),t.nrm(106,"path",53),t.k0s()()()()()()),2&o&&(t.R7$(6),t.SpI(" ",n.getPageTitle()," "),t.R7$(2),t.JRh(n.getSubtitle()),t.R7$(8),t.JRh(n.totalUsers),t.R7$(2),t.SpI("Total ",n.getStatsLabel(),""),t.R7$(7),t.JRh(n.activeUsers),t.R7$(2),t.SpI("Active ",n.getStatsLabel(),""),t.R7$(7),t.JRh(n.inactiveUsers),t.R7$(2),t.SpI("Inactive ",n.getStatsLabel(),""),t.R7$(5),t.JRh(n.getPageTitle()),t.R7$(2),t.Lme("",n.filteredUsers.length," ",n.getStatsLabel().toLowerCase(),""),t.R7$(4),t.SpI(" ",n.getCreateButtonText()," "),t.R7$(5),t.Y8G("ngModel",n.searchTerm),t.R7$(1),t.Y8G("ngIf",n.searchTerm),t.R7$(2),t.Y8G("ngModel",n.statusFilter),t.R7$(7),t.Y8G("ngModel",n.roleFilter),t.R7$(24),t.Y8G("ngForOf",n.filteredUsers),t.R7$(1),t.Y8G("ngIf",0===n.filteredUsers.length),t.R7$(3),t.E5c(" Showing ",n.filteredUsers.length," of ",n.totalUsers," ",n.getStatsLabel().toLowerCase()," "))},dependencies:[h.Sq,h.bT,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,h.vh],styles:['.user-list-container[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 50%,rgba(120,119,198,.3),transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,119,198,.3),transparent 50%),radial-gradient(circle at 40% 20%,rgba(138,180,248,.3),transparent 50%),linear-gradient(135deg,#1e3a8a 0%,#312e81 25%,#4c1d95 50%,#831843 75%,#991b1b 100%);padding:40px;position:relative}@media (max-width: 768px){.user-list-container[_ngcontent-%COMP%]{padding:20px}}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:36px;font-weight:800;color:#fff;margin:0 0 8px;display:flex;align-items:center;gap:12px;text-shadow:0 4px 12px rgba(0,0,0,.3)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:40px;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#fffffff2;margin:0;text-shadow:0 2px 8px rgba(0,0,0,.2)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:30px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.stat-card[_ngcontent-%COMP%]{background:white;border-radius:16px;padding:24px;display:flex;align-items:center;gap:20px;box-shadow:0 4px 16px #0000001a;transition:all .3s ease;position:relative;overflow:hidden}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.stat-card.total-card[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.stat-card.total-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%)}.stat-card.total-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#8b5cf6}.stat-card.active-card[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#10b981,#059669)}.stat-card.active-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)}.stat-card.active-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#10b981}.stat-card.inactive-card[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ef4444,#dc2626)}.stat-card.inactive-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%)}.stat-card.inactive-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#ef4444}.stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:32px;height:32px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:36px;font-weight:800;margin:0 0 4px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0;font-weight:500}.table-section[_ngcontent-%COMP%]{background:rgba(255,255,255,.98);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:0;box-shadow:0 8px 32px #00000026;overflow:hidden}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:28px 32px;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border-bottom:2px solid #e2e8f0}@media (max-width: 768px){.table-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px;padding:20px}}.table-header[_ngcontent-%COMP%]   .table-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.table-header[_ngcontent-%COMP%]   .table-title-section[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;margin:0}.table-header[_ngcontent-%COMP%]   .table-title-section[_ngcontent-%COMP%]   .table-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#64748b;background:white;padding:6px 14px;border-radius:20px;border:2px solid #e2e8f0}.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%);color:#fff;border:none;padding:12px 24px;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;box-shadow:0 4px 16px #10b9814d;transition:all .3s ease}.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #10b98166}.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:20px;height:20px}@media (max-width: 768px){.table-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.table-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;gap:20px;flex-wrap:wrap;background:white}@media (max-width: 768px){.table-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;padding:20px}}.search-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;max-width:450px}@media (max-width: 768px){.search-wrapper[_ngcontent-%COMP%]{max-width:100%}}.search-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:14px;top:50%;transform:translateY(-50%);width:20px;height:20px;color:#94a3b8;pointer-events:none}.search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 44px;border:2px solid #e2e8f0;border-radius:12px;font-size:14px;color:#1e293b;transition:all .3s ease}.search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.search-wrapper[_ngcontent-%COMP%]   .clear-search[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:28px;height:28px;background:#f1f5f9;border:none;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.search-wrapper[_ngcontent-%COMP%]   .clear-search[_ngcontent-%COMP%]:hover{background:#e2e8f0}.search-wrapper[_ngcontent-%COMP%]   .clear-search[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#64748b}.filter-group[_ngcontent-%COMP%]{display:flex;gap:12px}@media (max-width: 768px){.filter-group[_ngcontent-%COMP%]{width:100%}}.filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e2e8f0;border-radius:12px;font-size:14px;color:#1e293b;background:white;cursor:pointer;transition:all .3s ease;min-width:150px}@media (max-width: 768px){.filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{flex:1;min-width:auto}}.filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:hover{border-color:#cbd5e1}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;background:white}.users-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);position:sticky;top:0;z-index:10}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:18px 20px;text-align:left;font-size:12px;font-weight:700;color:#475569;text-transform:uppercase;letter-spacing:.8px;border-bottom:2px solid #e2e8f0;white-space:nowrap;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%)}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:32px}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:32px}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;position:relative}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:1px;background:#e2e8f0;transition:all .3s ease}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,rgba(139,92,246,.03) 0%,rgba(59,130,246,.03) 100%);transform:scale(1.005)}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]:hover:after{background:linear-gradient(90deg,#8b5cf6 0%,#3b82f6 100%);height:2px}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row.expanded[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(139,92,246,.05) 0%,rgba(59,130,246,.05) 100%)}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row.expanded[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,#8b5cf6 0%,#3b82f6 100%);height:2px}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid transparent;font-size:14px;color:#1e293b;vertical-align:middle}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:32px}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:32px}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0;border-bottom:2px solid #e2e8f0}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;border-bottom:none}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%);color:#fff;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;flex-shrink:0}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.role-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600}.role-badge.role-villager[_ngcontent-%COMP%]{background:rgba(59,130,246,.1);color:#3b82f6;border:1px solid rgba(59,130,246,.2)}.role-badge.role-village_admin[_ngcontent-%COMP%]{background:rgba(139,92,246,.1);color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600}.status-badge[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%}.status-badge.active[_ngcontent-%COMP%]{background:rgba(16,185,129,.1);color:#10b981;border:1px solid rgba(16,185,129,.2)}.status-badge.active[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.status-badge.inactive[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);color:#ef4444;border:1px solid rgba(239,68,68,.2)}.status-badge.inactive[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.action-buttons[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]{background:rgba(59,130,246,.1);color:#3b82f6}.action-buttons[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover{background:rgba(59,130,246,.2);transform:scale(1.1)}.action-buttons[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);color:#ef4444}.action-buttons[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.2);transform:scale(1.1)}.user-details[_ngcontent-%COMP%]{padding:24px;background:#f8fafc;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#1e293b}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:64px;height:64px;color:#cbd5e1}.empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#64748b;margin:0}.empty-state[_ngcontent-%COMP%]   .empty-subtext[_ngcontent-%COMP%]{font-size:14px;color:#94a3b8;margin:0}.pagination-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border-top:2px solid #e2e8f0}@media (max-width: 768px){.pagination-section[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.pagination-section[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid #e2e8f0;background:white;border-radius:8px;font-size:14px;font-weight:600;color:#64748b;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all .2s ease}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#8b5cf6;color:#8b5cf6}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{display:flex;gap:6px}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{width:36px;height:36px;border:2px solid #e2e8f0;background:white;border-radius:8px;font-size:14px;font-weight:600;color:#64748b;cursor:pointer;transition:all .2s ease}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]:hover{border-color:#8b5cf6;color:#8b5cf6}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%);border-color:#8b5cf6;color:#fff}']})}}return r})()},{path:"create",component:b},{path:"edit/:id",component:b}];let et=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(tt),u.iI]})}}return r})(),nt=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[h.MD,l.YN,C.q1,et]})}}return r})()}}]);