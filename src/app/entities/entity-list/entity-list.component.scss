// Import shared styles from state-list (which imports from country-list)
@import '../../address/state-list/state-list.component.scss';

// Entity-specific styles and overrides
.list-container {
  .page-header {
    .header-content {
      .page-title {
        .title-icon {
          animation: bounce 2s ease-in-out infinite;
        }
      }
    }
  }

  .table-section {
    .table-header {
      .create-btn {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        box-shadow: 0 4px 16px rgba(16, 185, 129, 0.3);

        &:hover {
          box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);
        }
      }
    }
    td:last-child {
      /* Actions column */
      width: auto;
      white-space: normal;
      overflow: visible;
      padding-right: 12px;
    }
  }
}

// Entity-specific table styling
.table-wrapper {
  .data-table {
    tbody {
      .data-row {
        &:hover {
          background: linear-gradient(90deg, rgba(139, 92, 246, 0.03) 0%, rgba(59, 130, 246, 0.03) 100%);

          &::after {
            background: linear-gradient(90deg, #8b5cf6 0%, #3b82f6 100%);
            height: 2px;
          }
        }
      }
    }
  }
}

.item-info {
  .item-avatar {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  }
}

.status-badge {
  &.active {
    background: rgba(16, 185, 129, 0.1);
    color: #10b981;
    border: 1px solid rgba(16, 185, 129, 0.2);

    .status-dot {
      background: #10b981;
    }
  }

  &.inactive {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.2);

    .status-dot {
      background: #ef4444;
    }
  }
}

.action-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  width: 100%;
  justify-content: flex-start;

  .action-btn {
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    border-radius: 999px;
    border: none;
    font-size: 13px;
    line-height: 1.2;
    white-space: nowrap;
    max-width: none;
    min-width: auto;
    overflow: visible;
    text-overflow: initial;
    cursor: pointer;
    transition: transform 0.18s ease, box-shadow 0.2s ease, background 0.2s ease, color 0.2s ease, border-color 0.2s ease, opacity 0.2s ease;
    min-height: 40px;
    position: relative;
    flex: 0 0 auto;

    svg {
      width: 18px;
      height: 18px;
      flex: 0 0 18px;
      transition: transform 0.2s ease;
    }

    &.edit-btn {
      background: rgba(59, 130, 246, 0.1);
      color: #3b82f6;

      &:hover {
        background: rgba(59, 130, 246, 0.2);
        transform: translateY(-1px);
        box-shadow: 0 6px 14px rgba(59,130,246,0.15);
        svg { transform: scale(1.05); }
      }
    }

    &.delete-btn {
      background: rgba(239, 68, 68, 0.1);
      color: #ef4444;

      &:hover {
        background: rgba(239, 68, 68, 0.2);
        transform: translateY(-1px);
        box-shadow: 0 6px 14px rgba(239,68,68,0.15);
        svg { transform: scale(1.05); }
      }
    }

    &.subscribe-btn {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: #ffffff;
      border: 1px solid rgba(16, 185, 129, 0.3);
      font-weight: 700;
      box-shadow: 0 2px 6px rgba(16, 185, 129, 0.25);

      &:hover {
        background: linear-gradient(135deg, #059669 0%, #047857 100%);
        box-shadow: 0 6px 14px rgba(16, 185, 129, 0.35);
        transform: translateY(-1px);
        svg { transform: scale(1.05); }
      }

      &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }
    }

    &.unsubscribe-btn {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      color: #ffffff;
      border: 1px solid rgba(239, 68, 68, 0.3);
      font-weight: 700;
      box-shadow: 0 2px 6px rgba(239, 68, 68, 0.25);

      &:hover {
        background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
        box-shadow: 0 6px 14px rgba(239, 68, 68, 0.35);
        transform: translateY(-1px);
        svg { transform: scale(1.05); }
      }

      &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }
    }

    &:focus-visible {
      outline: none;
      box-shadow: 0 0 0 3px rgba(59,130,246,0.22);
    }
  }
}

.subscribed-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(16, 185, 129, 0.12);
  color: #059669; /* emerald-600 */
  border: 1px solid rgba(16, 185, 129, 0.25);
  font-size: 12px;
  line-height: 1.2;
  white-space: nowrap;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Page-scoped overrides to defeat shared 36x36 circular buttons */
.list-container .table-section .action-buttons .action-btn {
  width: auto !important;
  height: auto !important;
  min-height: 40px !important;
  padding: 10px 16px !important;
  border-radius: 999px !important;
  display: inline-flex !important;
  justify-content: center !important;
  align-items: center !important;
  max-width: none !important;
  overflow: visible !important;
  white-space: nowrap !important;
}

@media (min-width: 1024px) {
  .list-container .table-section .action-buttons {
    flex-wrap: nowrap !important;
  }
  .list-container .data-table { table-layout: auto !important; }
  .list-container .data-table td:last-child { white-space: normal !important; }
  .list-container .data-table td:last-child .action-buttons .action-btn.subscribe-btn,
  .list-container .data-table td:last-child .action-buttons .action-btn.unsubscribe-btn {
    min-width: 140px !important;
  }
}

/* Small screens: ensure buttons are full width if needed */
@media (max-width: 640px) {
  .action-buttons {
    .action-btn {
      flex: 1 1 100%;
      justify-content: center;
      min-width: 0;
      width: 100%;
      min-height: 44px;
    }
  }
}